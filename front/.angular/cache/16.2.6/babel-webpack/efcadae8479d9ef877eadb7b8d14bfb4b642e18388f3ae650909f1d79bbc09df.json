{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"@angular/forms\";\nexport class GostComponent {\n  constructor(userService, sanitizer) {\n    this.userService = userService;\n    this.sanitizer = sanitizer;\n    this.fileDownloaded = null;\n    this.fileForUpload = null;\n    this.errorMessage = \"\";\n    this.successMessage = \"\";\n  }\n  ngOnInit() {\n    this.errorMessage = \"\";\n    this.successMessage = \"\";\n    let usr = localStorage.getItem('ulogovan');\n    if (usr != null) this.korisnik = JSON.parse(usr);\n    this.ime = this.korisnik.name;\n    this.prezime = this.korisnik.surname;\n    this.adresa = this.korisnik.address;\n    this.email = this.korisnik.email;\n    this.telefon = this.korisnik.phoneNumber;\n    this.kreditnaKartica = this.korisnik.creditCardNumber;\n    this.userService.getFileGost(this.korisnik.username).subscribe(data => {\n      const blob = new Blob([data]);\n      const url = URL.createObjectURL(blob);\n      this.fileDownloaded = this.sanitizer.bypassSecurityTrustUrl(url);\n    });\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = e => {\n      const img = new Image();\n      img.onload = () => {\n        const width = img.width;\n        const height = img.height;\n        if (width < 100 || height < 100 || width > 300 || height > 300) {\n          this.errorMessage = \"Profilna slika nije odgovarajucih dimenzija\";\n          this.fileForUpload = null;\n        } else {\n          this.errorMessage = \"\";\n          this.fileForUpload = file;\n        }\n      };\n      img.src = e.target.result.toString();\n    };\n    reader.readAsDataURL(file);\n  }\n  updateProfile() {\n    this.korisnik.name = this.ime;\n    this.korisnik.surname = this.prezime;\n    this.korisnik.address = this.adresa;\n    this.korisnik.email = this.email;\n    this.korisnik.phoneNumber = this.telefon;\n    this.korisnik.creditCardNumber = this.kreditnaKartica;\n    this.userService.updateProfileGost(this.korisnik).subscribe(() => {\n      this.successMessage = \"Uspesno ste azurirali profil!\";\n    });\n  }\n  static #_ = this.ɵfac = function GostComponent_Factory(t) {\n    return new (t || GostComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.DomSanitizer));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GostComponent,\n    selectors: [[\"app-gost\"]],\n    decls: 52,\n    vars: 9,\n    consts: [[1, \"container\"], [1, \"buttons\"], [1, \"active\"], [1, \"profile\"], [1, \"profile-info\"], [1, \"profile-picture\"], [\"alt\", \"Downloaded Image\", 3, \"src\"], [\"type\", \"file\", \"accept\", \"image/*\", 3, \"change\"], [1, \"profile-details\"], [1, \"input-field\"], [\"for\", \"ime\"], [\"type\", \"text\", \"id\", \"ime\", \"name\", \"ime\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"prezime\"], [\"type\", \"text\", \"id\", \"prezime\", \"name\", \"prezime\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"adresa\"], [\"type\", \"text\", \"id\", \"adresa\", \"name\", \"adresa\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"telefon\"], [\"type\", \"tel\", \"id\", \"telefon\", \"name\", \"telefon\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"kreditna-kartica\"], [\"type\", \"text\", \"id\", \"kreditna-kartica\", \"name\", \"kreditna-kartica\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [2, \"color\", \"green\"]],\n    template: function GostComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\")(2, \"h1\");\n        i0.ɵɵtext(3, \"Dobrodo\\u0161li u sistem restorana\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 1)(5, \"button\", 2);\n        i0.ɵɵtext(6, \"Profil\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\");\n        i0.ɵɵtext(8, \"Restorani\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\");\n        i0.ɵɵtext(10, \"Rezervacije\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\");\n        i0.ɵɵtext(12, \"Dostava hrane\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"section\", 3)(14, \"h2\");\n        i0.ɵɵtext(15, \"Profil\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 4)(17, \"div\", 5);\n        i0.ɵɵelement(18, \"img\", 6);\n        i0.ɵɵelementStart(19, \"input\", 7);\n        i0.ɵɵlistener(\"change\", function GostComponent_Template_input_change_19_listener($event) {\n          return ctx.onFileSelected($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"span\");\n        i0.ɵɵtext(21);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\", 8)(23, \"div\", 9)(24, \"label\", 10);\n        i0.ɵɵtext(25, \"Ime:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function GostComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.ime = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 9)(28, \"label\", 12);\n        i0.ɵɵtext(29, \"Prezime:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function GostComponent_Template_input_ngModelChange_30_listener($event) {\n          return ctx.prezime = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"div\", 9)(32, \"label\", 14);\n        i0.ɵɵtext(33, \"Adresa:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function GostComponent_Template_input_ngModelChange_34_listener($event) {\n          return ctx.adresa = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"div\", 9)(36, \"label\", 16);\n        i0.ɵɵtext(37, \"E-mail adresa:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function GostComponent_Template_input_ngModelChange_38_listener($event) {\n          return ctx.email = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"div\", 9)(40, \"label\", 18);\n        i0.ɵɵtext(41, \"Kontakt telefon:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"input\", 19);\n        i0.ɵɵlistener(\"ngModelChange\", function GostComponent_Template_input_ngModelChange_42_listener($event) {\n          return ctx.telefon = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(43, \"div\", 9)(44, \"label\", 20);\n        i0.ɵɵtext(45, \"Broj kreditne kartice:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"input\", 21);\n        i0.ɵɵlistener(\"ngModelChange\", function GostComponent_Template_input_ngModelChange_46_listener($event) {\n          return ctx.kreditnaKartica = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(47, \"div\", 1)(48, \"button\", 22);\n        i0.ɵɵlistener(\"click\", function GostComponent_Template_button_click_48_listener() {\n          return ctx.updateProfile();\n        });\n        i0.ɵɵtext(49, \"A\\u017Euriraj profil\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"span\", 23);\n        i0.ɵɵtext(51);\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"src\", ctx.fileDownloaded, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.errorMessage);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.ime);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.prezime);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.adresa);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.email);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.telefon);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.kreditnaKartica);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.successMessage);\n      }\n    },\n    dependencies: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n    styles: [\"body[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    background-color: #f4f4f4;\\n    margin: 0;\\n    padding: 0;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n    width: 80%;\\n    margin: auto;\\n    overflow: hidden;\\n    background-color: #f7f7f7; \\n    padding: 20px; \\n    border-radius: 8px;\\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\\n}\\n\\nheader[_ngcontent-%COMP%] {\\n    background: #8561a8;  \\n    color: #fff;\\n    padding-top: 30px;\\n    min-height: 70px;\\n    border-bottom: #64427a 3px solid; \\n}\\n\\nheader[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n    text-align: center;\\n    text-transform: uppercase;\\n    margin: 0;\\n}\\n\\n.buttons[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-top: 10px;\\n}\\n\\n.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    background: #8561a8;\\n    color: white;\\n    border: none;\\n    padding: 10px 20px;\\n    cursor: pointer;\\n    margin: 5px;\\n    border-radius: 4px; \\n}\\n\\n.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background: #64427a; \\n}\\n\\n.profile[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n}\\n\\n.profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    border-bottom: 2px solid #8561a8;\\n    padding-bottom: 5px;\\n    color: #8561a8;\\n}\\n\\n.profile-info[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: flex-start;\\n}\\n\\n.profile-picture[_ngcontent-%COMP%] {\\n    margin-right: 20px;\\n}\\n\\n.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    max-width: 200px;\\n    height: auto;\\n    border-radius: 50%;\\n    border: 2px solid #8561a8;\\n}\\n\\n.profile-details[_ngcontent-%COMP%] {\\n    flex: 1;\\n}\\n\\n.input-field[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n}\\n\\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 5px;\\n    font-weight: bold;\\n    color: #333;\\n}\\n\\n.input-field[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%], .input-field[_ngcontent-%COMP%]   input[type=\\\"email\\\"][_ngcontent-%COMP%], .input-field[_ngcontent-%COMP%]   input[type=\\\"tel\\\"][_ngcontent-%COMP%] {\\n    width: calc(100% - 10px);\\n    padding: 10px;\\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    box-sizing: border-box;\\n}\\n\\n.input-field[_ngcontent-%COMP%]   input[type=\\\"file\\\"][_ngcontent-%COMP%] {\\n    margin-top: 5px;\\n}\\n\\n@media only screen and (max-width: 768px) {\\n    .container[_ngcontent-%COMP%] {\\n        width: 90%;\\n    }\\n\\n    .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n        padding: 8px 16px;\\n    }\\n\\n    .profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n        max-width: 150px;\\n    }\\n}\\n\\n@media only screen and (max-width: 576px) {\\n    .container[_ngcontent-%COMP%] {\\n        padding: 15px;\\n    }\\n\\n    .buttons[_ngcontent-%COMP%] {\\n        display: flex;\\n        flex-wrap: wrap;\\n        justify-content: center;\\n    }\\n\\n    .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n        margin: 5px;\\n    }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ29zdC9nb3N0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSw4QkFBOEI7SUFDOUIseUJBQXlCO0lBQ3pCLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxVQUFVO0lBQ1YsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix1Q0FBdUM7QUFDM0M7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixTQUFTO0FBQ2I7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixXQUFXO0lBQ1gsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZ0NBQWdDO0lBQ2hDLG1CQUFtQjtJQUNuQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLE9BQU87QUFDWDs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFdBQVc7QUFDZjs7QUFFQTs7O0lBR0ksd0JBQXdCO0lBQ3hCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSTtRQUNJLFVBQVU7SUFDZDs7SUFFQTtRQUNJLGlCQUFpQjtJQUNyQjs7SUFFQTtRQUNJLGdCQUFnQjtJQUNwQjtBQUNKOztBQUVBO0lBQ0k7UUFDSSxhQUFhO0lBQ2pCOztJQUVBO1FBQ0ksYUFBYTtRQUNiLGVBQWU7UUFDZix1QkFBdUI7SUFDM0I7O0lBRUE7UUFDSSxXQUFXO0lBQ2Y7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbImJvZHkge1xyXG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNDtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbi5jb250YWluZXIge1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIG1hcmdpbjogYXV0bztcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3OyBcclxuICAgIHBhZGRpbmc6IDIwcHg7IFxyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG59XHJcblxyXG5oZWFkZXIge1xyXG4gICAgYmFja2dyb3VuZDogIzg1NjFhODsgIFxyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBwYWRkaW5nLXRvcDogMzBweDtcclxuICAgIG1pbi1oZWlnaHQ6IDcwcHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAjNjQ0MjdhIDNweCBzb2xpZDsgXHJcbn1cclxuXHJcbmhlYWRlciBoMSB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4uYnV0dG9ucyB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcblxyXG4uYnV0dG9ucyBidXR0b24ge1xyXG4gICAgYmFja2dyb3VuZDogIzg1NjFhODtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIG1hcmdpbjogNXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4OyBcclxufVxyXG5cclxuLmJ1dHRvbnMgYnV0dG9uOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQ6ICM2NDQyN2E7IFxyXG59XHJcblxyXG4ucHJvZmlsZSB7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG59XHJcblxyXG4ucHJvZmlsZSBoMiB7XHJcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgIzg1NjFhODtcclxuICAgIHBhZGRpbmctYm90dG9tOiA1cHg7XHJcbiAgICBjb2xvcjogIzg1NjFhODtcclxufVxyXG5cclxuLnByb2ZpbGUtaW5mbyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XHJcbn1cclxuXHJcbi5wcm9maWxlLXBpY3R1cmUge1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG59XHJcblxyXG4ucHJvZmlsZS1waWN0dXJlIGltZyB7XHJcbiAgICBtYXgtd2lkdGg6IDIwMHB4O1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgIzg1NjFhODtcclxufVxyXG5cclxuLnByb2ZpbGUtZGV0YWlscyB7XHJcbiAgICBmbGV4OiAxO1xyXG59XHJcblxyXG4uaW5wdXQtZmllbGQge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxufVxyXG5cclxuLmlucHV0LWZpZWxkIGxhYmVsIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBjb2xvcjogIzMzMztcclxufVxyXG5cclxuLmlucHV0LWZpZWxkIGlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxyXG4uaW5wdXQtZmllbGQgaW5wdXRbdHlwZT1cImVtYWlsXCJdLFxyXG4uaW5wdXQtZmllbGQgaW5wdXRbdHlwZT1cInRlbFwiXSB7XHJcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMTBweCk7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbi5pbnB1dC1maWVsZCBpbnB1dFt0eXBlPVwiZmlsZVwiXSB7XHJcbiAgICBtYXJnaW4tdG9wOiA1cHg7XHJcbn1cclxuXHJcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAgIC5jb250YWluZXIge1xyXG4gICAgICAgIHdpZHRoOiA5MCU7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ1dHRvbnMgYnV0dG9uIHtcclxuICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcclxuICAgIH1cclxuXHJcbiAgICAucHJvZmlsZS1waWN0dXJlIGltZyB7XHJcbiAgICAgICAgbWF4LXdpZHRoOiAxNTBweDtcclxuICAgIH1cclxufVxyXG5cclxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1NzZweCkge1xyXG4gICAgLmNvbnRhaW5lciB7XHJcbiAgICAgICAgcGFkZGluZzogMTVweDtcclxuICAgIH1cclxuXHJcbiAgICAuYnV0dG9ucyB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ1dHRvbnMgYnV0dG9uIHtcclxuICAgICAgICBtYXJnaW46IDVweDtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["GostComponent","constructor","userService","sanitizer","fileDownloaded","fileForUpload","errorMessage","successMessage","ngOnInit","usr","localStorage","getItem","korisnik","JSON","parse","ime","name","prezime","surname","adresa","address","email","telefon","phoneNumber","kreditnaKartica","creditCardNumber","getFileGost","username","subscribe","data","blob","Blob","url","URL","createObjectURL","bypassSecurityTrustUrl","onFileSelected","event","file","target","files","reader","FileReader","onload","e","img","Image","width","height","src","result","toString","readAsDataURL","updateProfile","updateProfileGost","_","i0","ɵɵdirectiveInject","i1","UserService","i2","DomSanitizer","_2","selectors","decls","vars","consts","template","GostComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","GostComponent_Template_input_change_19_listener","$event","GostComponent_Template_input_ngModelChange_26_listener","GostComponent_Template_input_ngModelChange_30_listener","GostComponent_Template_input_ngModelChange_34_listener","GostComponent_Template_input_ngModelChange_38_listener","GostComponent_Template_input_ngModelChange_42_listener","GostComponent_Template_input_ngModelChange_46_listener","GostComponent_Template_button_click_48_listener","ɵɵadvance","ɵɵproperty","ɵɵsanitizeUrl","ɵɵtextInterpolate"],"sources":["C:\\Users\\Perovic\\Desktop\\PIA\\front\\src\\app\\gost\\gost.component.ts","C:\\Users\\Perovic\\Desktop\\PIA\\front\\src\\app\\gost\\gost.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { gost } from '../models/gost';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { UserService } from '../services/user.service';\n\n@Component({\n  selector: 'app-gost',\n  templateUrl: './gost.component.html',\n  styleUrls: ['./gost.component.css']\n})\nexport class GostComponent implements OnInit{\n  korisnik: gost;\n  fileDownloaded: SafeUrl | null = null;\n  fileForUpload: File | null = null;\n  ime: string;\n  prezime: string;\n  adresa: string;\n  email: string;\n  telefon: string;\n  kreditnaKartica: string;\n  errorMessage: string = \"\";\n  successMessage: string = \"\"\n\n  constructor(private userService: UserService, private sanitizer: DomSanitizer){}\n\n  ngOnInit(): void {\n    this.errorMessage = \"\";\n    this.successMessage = \"\";\n    let usr = localStorage.getItem('ulogovan');\n    if(usr != null) this.korisnik = JSON.parse(usr);\n    this.ime = this.korisnik.name;\n    this.prezime = this.korisnik.surname;\n    this.adresa = this.korisnik.address;\n    this.email = this.korisnik.email;\n    this.telefon = this.korisnik.phoneNumber;\n    this.kreditnaKartica = this.korisnik.creditCardNumber;\n    this.userService.getFileGost(this.korisnik.username).subscribe(data=>{\n      const blob = new Blob([data]);\n      const url = URL.createObjectURL(blob);\n      this.fileDownloaded = this.sanitizer.bypassSecurityTrustUrl(url);\n    })\n  }\n\n  onFileSelected(event: any): void {\n    const file: File = event.target.files[0];\n    const reader = new FileReader();\n\n    reader.onload=(e)=>{\n      const img = new Image();\n      img.onload=()=>{\n        const width = img.width;\n        const height = img.height;\n        if(width < 100 || height < 100 || width > 300 || height > 300){\n          this.errorMessage = \"Profilna slika nije odgovarajucih dimenzija\";\n          this.fileForUpload = null;\n        } else {\n          this.errorMessage = \"\"\n          this.fileForUpload = file;\n        }\n      }\n      img.src = e.target.result.toString();\n    }\n    reader.readAsDataURL(file);\n  }\n\n  updateProfile(){\n    this.korisnik.name = this.ime;\n    this.korisnik.surname = this.prezime;\n    this.korisnik.address = this.adresa;\n    this.korisnik.email = this.email;\n    this.korisnik.phoneNumber = this.telefon;\n    this.korisnik.creditCardNumber = this.kreditnaKartica;\n\n    this.userService.updateProfileGost(this.korisnik).subscribe(()=>{\n      this.successMessage = \"Uspesno ste azurirali profil!\";\n    })\n  }\n}\n","<div class=\"container\">\n    <header>\n        <h1>Dobrodošli u sistem restorana</h1>\n        <div class=\"buttons\">\n            <button class=\"active\">Profil</button>\n            <button>Restorani</button>\n            <button>Rezervacije</button>\n            <button>Dostava hrane</button>\n        </div>\n    </header>\n    <section class=\"profile\">\n        <h2>Profil</h2>\n        <div class=\"profile-info\">\n            <div class=\"profile-picture\">\n                <img [src]=\"fileDownloaded\" alt=\"Downloaded Image\">\n                <input type=\"file\" accept=\"image/*\" (change)=\"onFileSelected($event)\">\n                <span style=\"red\">{{errorMessage}}</span>\n            </div>\n            <div class=\"profile-details\">\n                <div class=\"input-field\">\n                    <label for=\"ime\">Ime:</label>\n                    <input type=\"text\" id=\"ime\" name=\"ime\" [(ngModel)]=\"ime\">\n                </div>\n                <div class=\"input-field\">\n                    <label for=\"prezime\">Prezime:</label>\n                    <input type=\"text\" id=\"prezime\" name=\"prezime\" [(ngModel)]=\"prezime\">\n                </div>\n                <div class=\"input-field\">\n                    <label for=\"adresa\">Adresa:</label>\n                    <input type=\"text\" id=\"adresa\" name=\"adresa\" [(ngModel)]=\"adresa\">\n                </div>\n                <div class=\"input-field\">\n                    <label for=\"email\">E-mail adresa:</label>\n                    <input type=\"email\" id=\"email\" name=\"email\" [(ngModel)]=\"email\">\n                </div>\n                <div class=\"input-field\">\n                    <label for=\"telefon\">Kontakt telefon:</label>\n                    <input type=\"tel\" id=\"telefon\" name=\"telefon\" [(ngModel)]=\"telefon\">\n                </div>\n                <div class=\"input-field\">\n                    <label for=\"kreditna-kartica\">Broj kreditne kartice:</label>\n                    <input type=\"text\" id=\"kreditna-kartica\" name=\"kreditna-kartica\" [(ngModel)]=\"kreditnaKartica\">\n                </div>\n                <div class=\"buttons\">\n                    <button (click)=\"updateProfile()\">Ažuriraj profil</button>\n                    <span style=\"color: green;\">{{successMessage}}</span>\n                </div>\n            </div>\n        </div>\n    </section>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}