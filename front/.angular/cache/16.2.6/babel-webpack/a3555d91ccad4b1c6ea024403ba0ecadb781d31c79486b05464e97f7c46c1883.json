{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Perovic/Desktop/PIA/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { rezervacija } from '../models/rezervacija';\nimport { lastValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/narudzbina.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../services/user.service\";\nimport * as i4 from \"@angular/platform-browser\";\nimport * as i5 from \"../services/restoran.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"../services/rezervacije.service\";\nimport * as i8 from \"@angular/forms\";\nfunction GostComponent_section_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 6)(1, \"h2\");\n    i0.ɵɵtext(2, \"Profil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 7)(4, \"div\", 8);\n    i0.ɵɵelement(5, \"img\", 9);\n    i0.ɵɵelementStart(6, \"input\", 10);\n    i0.ɵɵlistener(\"change\", function GostComponent_section_13_Template_input_change_6_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onFileSelected($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 11);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 12)(10, \"div\", 13)(11, \"label\", 14);\n    i0.ɵɵtext(12, \"Ime:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_13_Template_input_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.ime = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 13)(15, \"label\", 16);\n    i0.ɵɵtext(16, \"Prezime:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_13_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.prezime = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 13)(19, \"label\", 18);\n    i0.ɵɵtext(20, \"Adresa:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_13_Template_input_ngModelChange_21_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.adresa = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 13)(23, \"label\", 20);\n    i0.ɵɵtext(24, \"E-mail adresa:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_13_Template_input_ngModelChange_25_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.email = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"div\", 13)(27, \"label\", 22);\n    i0.ɵɵtext(28, \"Kontakt telefon:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"input\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_13_Template_input_ngModelChange_29_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.telefon = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 13)(31, \"label\", 24);\n    i0.ɵɵtext(32, \"Broj kreditne kartice:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"input\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_13_Template_input_ngModelChange_33_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.kreditnaKartica = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"div\", 1)(35, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_13_Template_button_click_35_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.updateProfile());\n    });\n    i0.ɵɵtext(36, \"A\\u017Euriraj profil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"span\", 26);\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"src\", ctx_r0.fileDownloaded, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.ime);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.prezime);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.adresa);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.telefon);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.kreditnaKartica);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.successMessage);\n  }\n}\nfunction GostComponent_section_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 27)(1, \"h2\");\n    i0.ɵɵtext(2, \"Pretra\\u017Ei restorane\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 28);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_14_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.searchNaziv = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 29);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_14_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.searchAdresa = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 30);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_14_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.searchTip = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_14_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.search());\n    });\n    i0.ɵɵtext(7, \"Pretra\\u017Ei\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.searchNaziv);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.searchAdresa);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.searchTip);\n  }\n}\nfunction GostComponent_section_15_tr_17_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \" \\u2605 \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction GostComponent_section_15_tr_17_li_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const konobar_r24 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", konobar_r24.name, \" \", konobar_r24.surname, \" \");\n  }\n}\nfunction GostComponent_section_15_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"a\", 33);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_15_tr_17_Template_a_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const restoran_r20 = restoredCtx.$implicit;\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.pregledajRestoran(restoran_r20.naziv));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementStart(11, \"span\", 34);\n    i0.ɵɵtemplate(12, GostComponent_section_15_tr_17_ng_container_12_Template, 2, 0, \"ng-container\", 32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"ul\");\n    i0.ɵɵtemplate(15, GostComponent_section_15_tr_17_li_15_Template, 2, 2, \"li\", 32);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const restoran_r20 = ctx.$implicit;\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(restoran_r20.naziv);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(restoran_r20.adresa);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(restoran_r20.tip);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(10, 6, restoran_r20.avgRating, \"1.1-1\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r19.getStars(restoran_r20.avgRating));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r19.getKonobariForRestoran(restoran_r20));\n  }\n}\nfunction GostComponent_section_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 31)(1, \"h2\");\n    i0.ɵɵtext(2, \"Lista restorana\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\")(4, \"thead\")(5, \"tr\")(6, \"th\", 2);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_15_Template_th_click_6_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.sort(\"naziv\"));\n    });\n    i0.ɵɵtext(7, \"Naziv\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 2);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_15_Template_th_click_8_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.sort(\"adresa\"));\n    });\n    i0.ɵɵtext(9, \"Adresa\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 2);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_15_Template_th_click_10_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.sort(\"tip\"));\n    });\n    i0.ɵɵtext(11, \"Tip restorana\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 2);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_15_Template_th_click_12_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.sort(\"avgRating\"));\n    });\n    i0.ɵɵtext(13, \"Prose\\u010Dna ocena\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Konobari\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, GostComponent_section_15_tr_17_Template, 16, 9, \"tr\", 32);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.filteredRestorani);\n  }\n}\nfunction GostComponent_section_16_tr_15_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_16_tr_15_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const rezervacija_r35 = i0.ɵɵnextContext().$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r37.otkaziRezervaciju(rezervacija_r35.id));\n    });\n    i0.ɵɵtext(1, \"Otkazi rezervaciju\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GostComponent_section_16_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtemplate(8, GostComponent_section_16_tr_15_button_8_Template, 2, 0, \"button\", 36);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const rezervacija_r35 = ctx.$implicit;\n    const ctx_r32 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rezervacija_r35.restoran);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r32.formatDate(rezervacija_r35.datum));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rezervacija_r35.adresa);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r32.isOtkaziva(rezervacija_r35.datum));\n  }\n}\nfunction GostComponent_section_16_tr_28_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Niste se pojavili u restoranu!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GostComponent_section_16_tr_28_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Rezervacija je odbijena. \");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3, \"Komentar restorana:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rezervacija_r40 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", rezervacija_r40.komentarKonobara, \"\");\n  }\n}\nfunction GostComponent_section_16_tr_28_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Komentar:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5, \" Ocena:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rezervacija_r40 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", rezervacija_r40.komentar, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", rezervacija_r40.ocena, \" / 5 \");\n  }\n}\nfunction GostComponent_section_16_tr_28_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r49 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_16_tr_28_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r49);\n      const rezervacija_r40 = i0.ɵɵnextContext().$implicit;\n      const ctx_r47 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r47.openReviewForm(rezervacija_r40));\n    });\n    i0.ɵɵtext(1, \"Ostavi recenziju\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GostComponent_section_16_tr_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtemplate(6, GostComponent_section_16_tr_28_span_6_Template, 2, 0, \"span\", 37);\n    i0.ɵɵtemplate(7, GostComponent_section_16_tr_28_span_7_Template, 5, 1, \"span\", 37);\n    i0.ɵɵtemplate(8, GostComponent_section_16_tr_28_span_8_Template, 7, 2, \"span\", 37);\n    i0.ɵɵtemplate(9, GostComponent_section_16_tr_28_button_9_Template, 2, 0, \"button\", 36);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const rezervacija_r40 = ctx.$implicit;\n    const ctx_r33 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rezervacija_r40.restoran);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r33.formatDate(rezervacija_r40.datum));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", rezervacija_r40.status == \"neostvarena\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", rezervacija_r40.status == \"odbijena\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !(rezervacija_r40.komentar == \"\" && rezervacija_r40.ocena == 0) && rezervacija_r40.status != \"odbijena\" && rezervacija_r40.status != \"neostvarena\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", rezervacija_r40.komentar == \"\" && rezervacija_r40.ocena == 0 && rezervacija_r40.status == \"ostvarena\");\n  }\n}\nfunction GostComponent_section_16_div_29_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r50 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r50.success);\n  }\n}\nfunction GostComponent_section_16_div_29_span_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r51 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r51.fail);\n  }\n}\nfunction GostComponent_section_16_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r53 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"h2\");\n    i0.ɵɵtext(2, \"Ostavi recenziju\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 39);\n    i0.ɵɵlistener(\"submit\", function GostComponent_section_16_div_29_Template_form_submit_3_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r52 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r52.submitReview());\n    });\n    i0.ɵɵelementStart(4, \"label\", 40);\n    i0.ɵɵtext(5, \"Slobodan komentar:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"textarea\", 41);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_16_div_29_Template_textarea_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r54 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r54.noviKomentar = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"label\", 42);\n    i0.ɵɵtext(10, \"Ocena:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 34)(12, \"span\", 43);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_16_div_29_Template_span_click_12_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r55 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r55.setRating(1));\n    });\n    i0.ɵɵtext(13, \"\\u2605\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\", 43);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_16_div_29_Template_span_click_14_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r56 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r56.setRating(2));\n    });\n    i0.ɵɵtext(15, \"\\u2605\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 43);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_16_div_29_Template_span_click_16_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r57 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r57.setRating(3));\n    });\n    i0.ɵɵtext(17, \"\\u2605\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 43);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_16_div_29_Template_span_click_18_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r58 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r58.setRating(4));\n    });\n    i0.ɵɵtext(19, \"\\u2605\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"span\", 43);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_16_div_29_Template_span_click_20_listener() {\n      i0.ɵɵrestoreView(_r53);\n      const ctx_r59 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r59.setRating(5));\n    });\n    i0.ɵɵtext(21, \"\\u2605\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(22, \"br\");\n    i0.ɵɵelementStart(23, \"button\", 44);\n    i0.ɵɵtext(24, \"Potvrdi recenziju\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, GostComponent_section_16_div_29_span_25_Template, 2, 1, \"span\", 45);\n    i0.ɵɵtemplate(26, GostComponent_section_16_div_29_span_26_Template, 2, 1, \"span\", 46);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r34 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r34.noviKomentar);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"filled\", ctx_r34.rating >= 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"filled\", ctx_r34.rating >= 2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"filled\", ctx_r34.rating >= 3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"filled\", ctx_r34.rating >= 4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"filled\", ctx_r34.rating === 5);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r34.success != \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r34.fail != \"\");\n  }\n}\nfunction GostComponent_section_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 31)(1, \"h2\");\n    i0.ɵɵtext(2, \"Lista aktuelnih rezervacija\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\")(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Restoran\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Datum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Adresa\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Otkazi rezervaciju\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"tbody\");\n    i0.ɵɵtemplate(15, GostComponent_section_16_tr_15_Template, 9, 4, \"tr\", 32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"h2\");\n    i0.ɵɵtext(17, \"Lista arhiviranih rezervacija\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"table\")(19, \"thead\")(20, \"tr\")(21, \"th\");\n    i0.ɵɵtext(22, \"Restoran\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\");\n    i0.ɵɵtext(24, \"Datum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"th\");\n    i0.ɵɵtext(26, \"Recenzija\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"tbody\");\n    i0.ɵɵtemplate(28, GostComponent_section_16_tr_28_Template, 10, 6, \"tr\", 32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(29, GostComponent_section_16_div_29_Template, 27, 13, \"div\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.aktuelneRezervacije);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.arhiviraneRezervacije);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.reviewFormId !== null);\n  }\n}\nfunction GostComponent_section_17_tr_13_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Na cekanju!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GostComponent_section_17_tr_13_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Odbijena!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GostComponent_section_17_tr_13_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Potvrdjena!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GostComponent_section_17_tr_13_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const narudzbina_r62 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", narudzbina_r62.minVremeDostave, \" - \", narudzbina_r62.maxVremeDostave, \"\");\n  }\n}\nfunction GostComponent_section_17_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtemplate(4, GostComponent_section_17_tr_13_span_4_Template, 2, 0, \"span\", 37);\n    i0.ɵɵtemplate(5, GostComponent_section_17_tr_13_span_5_Template, 2, 0, \"span\", 37);\n    i0.ɵɵtemplate(6, GostComponent_section_17_tr_13_span_6_Template, 2, 0, \"span\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, GostComponent_section_17_tr_13_td_7_Template, 2, 2, \"td\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const narudzbina_r62 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(narudzbina_r62.restoran);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", narudzbina_r62.status == \"naCekanju\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", narudzbina_r62.status == \"odbijena\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", narudzbina_r62.status == \"potvrdjena\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", narudzbina_r62.minVremeDostave != 0);\n  }\n}\nfunction GostComponent_section_17_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const narudzbina_r68 = ctx.$implicit;\n    const ctx_r61 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(narudzbina_r68.restoran);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r61.formatDate(narudzbina_r68.datum));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", narudzbina_r68.cena, \" \");\n  }\n}\nfunction GostComponent_section_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 31)(1, \"h2\");\n    i0.ɵɵtext(2, \"Lista aktuelnih narudzbina\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\")(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Restoran\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Procenjeno vreme dostave\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, GostComponent_section_17_tr_13_Template, 8, 5, \"tr\", 32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"h2\");\n    i0.ɵɵtext(15, \"Lista arhiviranih narudzbina\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"table\")(17, \"thead\")(18, \"tr\")(19, \"th\");\n    i0.ɵɵtext(20, \"Restoran\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\");\n    i0.ɵɵtext(22, \"Datum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\");\n    i0.ɵɵtext(24, \"Iznos racuna\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"tbody\");\n    i0.ɵɵtemplate(26, GostComponent_section_17_tr_26_Template, 7, 3, \"tr\", 32);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.aktuelneNarudzbine);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.arhiviraneNarudzbine);\n  }\n}\nexport class GostComponent {\n  constructor(narudzbineService, datePipe, userService, sanitizer, restoranService, router, rezervacijeService) {\n    this.narudzbineService = narudzbineService;\n    this.datePipe = datePipe;\n    this.userService = userService;\n    this.sanitizer = sanitizer;\n    this.restoranService = restoranService;\n    this.router = router;\n    this.rezervacijeService = rezervacijeService;\n    this.fileDownloaded = null;\n    this.fileForUpload = null;\n    this.errorMessage = \"\";\n    this.successMessage = \"\";\n    this.flagProfil = true;\n    this.flagRestoran = false;\n    this.rezervacijeFlag = false;\n    this.dostavaHraneFlag = false;\n    this.restorani = [];\n    this.konobari = [];\n    this.filteredRestorani = [];\n    this.searchNaziv = '';\n    this.searchAdresa = '';\n    this.searchTip = '';\n    this.sortDirection = 'asc';\n    this.aktuelneNarudzbine = [];\n    this.arhiviraneNarudzbine = [];\n    this.aktuelneRezervacije = [];\n    this.arhiviraneRezervacije = [];\n    this.reviewFormId = null;\n    this.noviKomentar = '';\n    this.rating = 0;\n    this.reviewFormRestoran = '';\n    this.success = '';\n    this.fail = '';\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.errorMessage = \"\";\n      _this.successMessage = \"\";\n      let usr = localStorage.getItem('ulogovan');\n      if (usr != null) _this.korisnik = JSON.parse(usr);\n      _this.ime = _this.korisnik.name;\n      _this.prezime = _this.korisnik.surname;\n      _this.adresa = _this.korisnik.address;\n      _this.email = _this.korisnik.email;\n      _this.telefon = _this.korisnik.phoneNumber;\n      _this.kreditnaKartica = _this.korisnik.creditCardNumber;\n      try {\n        let data = yield lastValueFrom(_this.userService.getFileGost(_this.korisnik.username));\n        const blob = new Blob([data]);\n        const url = URL.createObjectURL(blob);\n        _this.fileDownloaded = _this.sanitizer.bypassSecurityTrustUrl(url);\n        let res = yield lastValueFrom(_this.restoranService.getAllRestoraniWithRatings());\n        _this.restorani = res;\n        _this.filteredRestorani = _this.restorani;\n        let kon = yield lastValueFrom(_this.userService.getAllKonobari());\n        _this.konobari = kon;\n        let rez = yield lastValueFrom(_this.rezervacijeService.getAktuelneRezervacije(_this.korisnik.username));\n        if (rez.message == \"Nema aktuelnih rezervacija\") {\n          _this.aktuelneRezervacije = [];\n        } else {\n          rez.rezervacije.forEach(r => {\n            rez.restorani.forEach(rst => {\n              if (r.restoran == rst.naziv) {\n                let newRez = new rezervacija();\n                newRez.adresa = rst.adresa;\n                newRez.brojGostiju = r.brojGostiju;\n                newRez.datum = r.datum;\n                newRez.gost = r.gost;\n                newRez.id = r.id;\n                newRez.komentarKonobara = r.komentarKonobara;\n                newRez.opis = r.opis;\n                newRez.restoran = rst.naziv;\n                newRez.status = r.status;\n                newRez.sto = r.sto;\n                _this.aktuelneRezervacije.push(newRez);\n              }\n            });\n          });\n        }\n        let arh = yield lastValueFrom(_this.rezervacijeService.getArhiviraneRezervacije(_this.korisnik.username));\n        if (arh.message == \"Nema arhiviranih rezervacija!\") {\n          _this.arhiviraneRezervacije = [];\n        } else {\n          _this.arhiviraneRezervacije = arh.rezervacije.map(rezervacija => {\n            let sto = arh.stolovi.find(sto => sto.id === rezervacija.sto);\n            let restoran = sto ? sto.restoran : '';\n            let recenzija = arh.recenzije.find(rec => rec.rezervacijaId === rezervacija.id);\n            let komentar = recenzija ? recenzija.komentar : '';\n            let ocena = recenzija ? recenzija.ocena : 0;\n            return {\n              ...rezervacija,\n              restoran: restoran,\n              komentar: komentar,\n              ocena: ocena\n            };\n          });\n          _this.arhiviraneRezervacije.forEach(arhivirana => {\n            if (!arhivirana.komentar) {\n              arhivirana.komentar = '';\n            }\n            if (!arhivirana.ocena) {\n              arhivirana.ocena = 0;\n            }\n          });\n        }\n        let nar = yield lastValueFrom(_this.narudzbineService.getNarudzbineForGost(_this.korisnik.username));\n        _this.arhiviraneNarudzbine = nar.arhivirane;\n        _this.aktuelneNarudzbine = nar.aktuelne;\n        _this.arhiviraneNarudzbine.sort((a, b) => {\n          let dateA = new Date(a.datum);\n          let dateB = new Date(b.datum);\n          return dateA.getTime() - dateB.getTime();\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = e => {\n      const img = new Image();\n      img.onload = () => {\n        const width = img.width;\n        const height = img.height;\n        if (width < 100 || height < 100 || width > 300 || height > 300) {\n          this.errorMessage = \"Profilna slika nije odgovarajucih dimenzija\";\n          this.fileForUpload = null;\n        } else {\n          this.errorMessage = \"\";\n          this.fileForUpload = file;\n        }\n      };\n      img.src = e.target.result.toString();\n    };\n    reader.readAsDataURL(file);\n  }\n  updateProfile() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.korisnik.name = _this2.ime;\n      _this2.korisnik.surname = _this2.prezime;\n      _this2.korisnik.address = _this2.adresa;\n      _this2.korisnik.email = _this2.email;\n      _this2.korisnik.phoneNumber = _this2.telefon;\n      _this2.korisnik.creditCardNumber = _this2.kreditnaKartica;\n      try {\n        let rez = yield lastValueFrom(_this2.userService.updateProfileGost(_this2.korisnik));\n        localStorage.removeItem('ulogovan');\n        localStorage.setItem('ulogovan', JSON.stringify(rez));\n        _this2.successMessage = \"Uspesno ste azurirali profil!\";\n        if (_this2.fileForUpload != null) {\n          let res = yield lastValueFrom(_this2.userService.updatePictureGost(_this2.korisnik.username, _this2.fileForUpload));\n          localStorage.removeItem('ulogovan');\n          localStorage.setItem('ulogovan', JSON.stringify(res));\n          _this2.successMessage = \"Uspesno ste azurirali profil!\";\n          let data = yield lastValueFrom(_this2.userService.getFileGost(_this2.korisnik.username));\n          const blob = new Blob([data]);\n          const url = URL.createObjectURL(blob);\n          _this2.fileDownloaded = _this2.sanitizer.bypassSecurityTrustUrl(url);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }\n  profil() {\n    this.flagProfil = true;\n    this.flagRestoran = false;\n    this.rezervacijeFlag = false;\n    this.dostavaHraneFlag = false;\n  }\n  restoraniShow() {\n    this.flagProfil = false;\n    this.flagRestoran = true;\n    this.rezervacijeFlag = false;\n    this.dostavaHraneFlag = false;\n  }\n  rezervacije() {\n    this.rezervacijeFlag = true;\n    this.flagProfil = false;\n    this.flagRestoran = false;\n    this.dostavaHraneFlag = false;\n  }\n  dostavaHrane() {\n    this.dostavaHraneFlag = true;\n    this.flagProfil = false;\n    this.rezervacijeFlag = false;\n    this.flagRestoran = false;\n  }\n  search() {\n    this.filteredRestorani = this.restorani.filter(r => r.naziv.toLowerCase().includes(this.searchNaziv.toLowerCase()) && r.adresa.toLowerCase().includes(this.searchAdresa.toLowerCase()) && r.tip.toLowerCase().includes(this.searchTip.toLowerCase()));\n  }\n  sort(column) {\n    this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\n    this.filteredRestorani.sort((a, b) => {\n      if (a[column] < b[column]) return this.sortDirection === 'asc' ? -1 : 1;\n      if (a[column] > b[column]) return this.sortDirection === 'asc' ? 1 : -1;\n      return 0;\n    });\n  }\n  getKonobariForRestoran(restoran) {\n    return this.konobari.filter(konobar => konobar.restoran === restoran.naziv);\n  }\n  getStars(rating) {\n    return Array(Math.round(rating)).fill(0).map((x, i) => i);\n  }\n  pregledajRestoran(naziv) {\n    localStorage.setItem('restoran', naziv);\n    this.router.navigate(['restoran']);\n  }\n  isOtkaziva(datum) {\n    const dat = new Date(datum);\n    dat.setHours(dat.getHours() - 2);\n    const now = new Date();\n    const futureTime = new Date(now.getTime() + 45 * 60000);\n    return dat.getTime() >= futureTime.getTime();\n  }\n  formatDate(datum) {\n    let date = new Date(datum);\n    date.setHours(date.getHours() - 2);\n    const month = this.padWithZero(date.getMonth() + 1);\n    const day = this.padWithZero(date.getDate());\n    const year = date.getFullYear();\n    let hours = this.padWithZero(date.getHours());\n    const minutes = this.padWithZero(date.getMinutes());\n    const seconds = this.padWithZero(date.getSeconds());\n    const formattedDate = `${day}.${month}.${year} ${hours}:${minutes}:${seconds}`;\n    return formattedDate;\n  }\n  padWithZero(num) {\n    return num < 10 ? '0' + num : num.toString();\n  }\n  otkaziRezervaciju(id) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        let res = yield lastValueFrom(_this3.rezervacijeService.otkaziRezervaciju(id));\n        let rez = yield lastValueFrom(_this3.rezervacijeService.getAktuelneRezervacije(_this3.korisnik.username));\n        if (rez.message == \"Nema aktuelnih rezervacija\") {\n          _this3.aktuelneRezervacije = [];\n        } else {\n          rez.rezervacije.forEach(r => {\n            rez.restorani.forEach(rst => {\n              if (r.restoran == rst.naziv) {\n                let newRez = new rezervacija();\n                newRez.adresa = rst.adresa;\n                newRez.brojGostiju = r.brojGostiju;\n                newRez.datum = r.datum;\n                newRez.gost = r.gost;\n                newRez.id = r.id;\n                newRez.komentarKonobara = r.komentarKonobara;\n                newRez.opis = r.opis;\n                newRez.restoran = rst.naziv;\n                newRez.status = r.status;\n                newRez.sto = r.sto;\n                _this3.aktuelneRezervacije.push(newRez);\n              }\n            });\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }\n  submitReview() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        let rez = yield lastValueFrom(_this4.rezervacijeService.ostaviRecenziju(_this4.reviewFormId, _this4.noviKomentar, _this4.rating, _this4.reviewFormRestoran));\n        if (rez == \"Uspesno ste ostavili recenziju!\") {\n          _this4.fail = \"\";\n          _this4.success = rez;\n        } else {\n          _this4.success = \"\";\n          _this4.fail = rez;\n        }\n        _this4.reviewFormId = null;\n        _this4.noviKomentar = '';\n        _this4.rating = 0;\n        _this4.ngOnInit();\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }\n  openReviewForm(reservation) {\n    this.reviewFormId = reservation.id;\n    this.reviewFormRestoran = reservation.restoran;\n    this.noviKomentar = '';\n    this.rating = 0;\n  }\n  setRating(rating) {\n    this.rating = rating;\n  }\n  static #_ = this.ɵfac = function GostComponent_Factory(t) {\n    return new (t || GostComponent)(i0.ɵɵdirectiveInject(i1.NarudzbinaService), i0.ɵɵdirectiveInject(i2.DatePipe), i0.ɵɵdirectiveInject(i3.UserService), i0.ɵɵdirectiveInject(i4.DomSanitizer), i0.ɵɵdirectiveInject(i5.RestoranService), i0.ɵɵdirectiveInject(i6.Router), i0.ɵɵdirectiveInject(i7.RezervacijeService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GostComponent,\n    selectors: [[\"app-gost\"]],\n    decls: 18,\n    vars: 5,\n    consts: [[1, \"container\"], [1, \"buttons\"], [3, \"click\"], [\"class\", \"profile\", 4, \"ngIf\"], [\"class\", \"search\", 4, \"ngIf\"], [\"class\", \"restaurant-list\", 4, \"ngIf\"], [1, \"profile\"], [1, \"profile-info\"], [1, \"profile-picture\"], [\"alt\", \"Downloaded Image\", 3, \"src\"], [\"type\", \"file\", \"accept\", \"image/*\", 3, \"change\"], [2, \"color\", \"red\"], [1, \"profile-details\"], [1, \"input-field\"], [\"for\", \"ime\"], [\"type\", \"text\", \"id\", \"ime\", \"name\", \"ime\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"prezime\"], [\"type\", \"text\", \"id\", \"prezime\", \"name\", \"prezime\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"adresa\"], [\"type\", \"text\", \"id\", \"adresa\", \"name\", \"adresa\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"telefon\"], [\"type\", \"tel\", \"id\", \"telefon\", \"name\", \"telefon\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"kreditna-kartica\"], [\"type\", \"text\", \"id\", \"kreditna-kartica\", \"name\", \"kreditna-kartica\", 3, \"ngModel\", \"ngModelChange\"], [2, \"color\", \"green\"], [1, \"search\"], [\"type\", \"text\", \"placeholder\", \"Naziv\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Adresa\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"Tip restorana\", 3, \"ngModel\", \"ngModelChange\"], [1, \"restaurant-list\"], [4, \"ngFor\", \"ngForOf\"], [1, \"plain-text-link\", 3, \"click\"], [1, \"stars\"], [\"class\", \"review-form\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"review-form\"], [3, \"submit\"], [\"for\", \"komentar\"], [\"id\", \"komentar\", \"name\", \"komentar\", \"rows\", \"4\", \"cols\", \"50\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"ocena\"], [1, \"star\", 3, \"click\"], [\"type\", \"submit\"], [\"style\", \"color: green;\", 4, \"ngIf\"], [\"style\", \"color: red;\", 4, \"ngIf\"]],\n    template: function GostComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\")(2, \"h1\");\n        i0.ɵɵtext(3, \"Dobrodo\\u0161li u sistem restorana\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 1)(5, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function GostComponent_Template_button_click_5_listener() {\n          return ctx.profil();\n        });\n        i0.ɵɵtext(6, \"Profil\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function GostComponent_Template_button_click_7_listener() {\n          return ctx.restoraniShow();\n        });\n        i0.ɵɵtext(8, \"Restorani\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function GostComponent_Template_button_click_9_listener() {\n          return ctx.rezervacije();\n        });\n        i0.ɵɵtext(10, \"Rezervacije\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function GostComponent_Template_button_click_11_listener() {\n          return ctx.dostavaHrane();\n        });\n        i0.ɵɵtext(12, \"Dostava hrane\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(13, GostComponent_section_13_Template, 39, 9, \"section\", 3);\n        i0.ɵɵtemplate(14, GostComponent_section_14_Template, 8, 3, \"section\", 4);\n        i0.ɵɵtemplate(15, GostComponent_section_15_Template, 18, 1, \"section\", 5);\n        i0.ɵɵtemplate(16, GostComponent_section_16_Template, 30, 3, \"section\", 5);\n        i0.ɵɵtemplate(17, GostComponent_section_17_Template, 27, 2, \"section\", 5);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", ctx.flagProfil == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.flagRestoran == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.flagRestoran == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.rezervacijeFlag == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.dostavaHraneFlag == true);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i8.ɵNgNoValidate, i8.DefaultValueAccessor, i8.NgControlStatus, i8.NgControlStatusGroup, i8.NgModel, i8.NgForm, i2.DecimalPipe],\n    styles: [\"body[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    background-color: #f4f4f4;\\n    margin: 0;\\n    padding: 0;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n    width: 80%;\\n    margin: auto;\\n    overflow: hidden;\\n    background-color: #f7f7f7; \\n    padding: 20px; \\n    border-radius: 8px;\\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\\n}\\n\\nheader[_ngcontent-%COMP%] {\\n    background: #8561a8;  \\n    color: #fff;\\n    padding-top: 30px;\\n    min-height: 70px;\\n    border-bottom: #64427a 3px solid; \\n}\\n\\nheader[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n    text-align: center;\\n    text-transform: uppercase;\\n    margin: 0;\\n}\\n\\n.buttons[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-top: 10px;\\n}\\n\\n.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    background: #8561a8;\\n    color: white;\\n    border: none;\\n    padding: 10px 20px;\\n    cursor: pointer;\\n    margin: 5px;\\n    border-radius: 4px; \\n}\\n\\n.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background: #64427a; \\n}\\n\\n.profile[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n}\\n\\n.profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    border-bottom: 2px solid #8561a8;\\n    padding-bottom: 5px;\\n    color: #8561a8;\\n}\\n\\n.profile-info[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: flex-start;\\n}\\n\\n.profile-picture[_ngcontent-%COMP%] {\\n    margin-right: 20px;\\n}\\n\\n.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    max-width: 200px;\\n    height: auto;\\n    border-radius: 50%;\\n    border: 2px solid #8561a8;\\n}\\n\\n.profile-details[_ngcontent-%COMP%] {\\n    flex: 1;\\n}\\n\\n.input-field[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n}\\n\\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 5px;\\n    font-weight: bold;\\n    color: #333;\\n}\\n\\n.input-field[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%], .input-field[_ngcontent-%COMP%]   input[type=\\\"email\\\"][_ngcontent-%COMP%], .input-field[_ngcontent-%COMP%]   input[type=\\\"tel\\\"][_ngcontent-%COMP%] {\\n    width: calc(100% - 10px);\\n    padding: 10px;\\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    box-sizing: border-box;\\n}\\n\\n.input-field[_ngcontent-%COMP%]   input[type=\\\"file\\\"][_ngcontent-%COMP%] {\\n    margin-top: 5px;\\n}\\n\\n@media only screen and (max-width: 768px) {\\n    .container[_ngcontent-%COMP%] {\\n        width: 90%;\\n    }\\n\\n    .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n        padding: 8px 16px;\\n    }\\n\\n    .profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n        max-width: 150px;\\n    }\\n}\\n\\n@media only screen and (max-width: 576px) {\\n    .container[_ngcontent-%COMP%] {\\n        padding: 15px;\\n    }\\n\\n    .buttons[_ngcontent-%COMP%] {\\n        display: flex;\\n        flex-wrap: wrap;\\n        justify-content: center;\\n    }\\n\\n    .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n        margin: 5px;\\n    }\\n}\\n\\n.stars[_ngcontent-%COMP%] {\\n    color: gold;\\n    display: inline-block;\\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse;\\n    margin-top: 20px; \\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .restaurant-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .restaurant-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    border: 1px solid #ccc;\\n    padding: 8px;\\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n    background-color: #8561a8;\\n    color: white;\\n    cursor: pointer;\\n    border-radius: 4px; \\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover {\\n    background-color: #64427a; \\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n    list-style: none;\\n    padding: 0;\\n}\\n\\n.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    padding: 10px;\\n    margin-right: 10px;\\n    width: calc(33% - 10px); \\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    box-sizing: border-box;\\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{\\n    margin-top: 10px;\\n    margin-bottom: 10px;\\n    padding: 10px;\\n    background: #8561a8;\\n    color: white;\\n    border: none;\\n    cursor: pointer;\\n    border-radius: 4px; \\n    text-align: center;\\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{\\n    background: #64427a; \\n}\\n.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    margin-top: 10px;\\n    padding: 10px;\\n    background: #8561a8;\\n    color: white;\\n    border: none;\\n    cursor: pointer;\\n    border-radius: 4px; \\n    text-align: center;\\n}\\n\\n.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background: #64427a; \\n}\\n\\n.plain-text-link[_ngcontent-%COMP%] {\\n    color: inherit; \\n    text-decoration: none; \\n    cursor: pointer; \\n}\\n\\n.plain-text-link[_ngcontent-%COMP%]:hover {\\n    text-decoration: underline; \\n}\\n\\n.review-form[_ngcontent-%COMP%] {\\n    margin-top: 20px; \\n    padding: 20px;\\n    border: 1px solid #ccc;\\n    border-radius: 5px;\\n    width: 80%; \\n    margin: 20px auto;\\n  }\\n  \\n  .stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%] {\\n    font-size: 24px;\\n    cursor: pointer;\\n    color: #ccc;\\n  }\\n  \\n  .stars[_ngcontent-%COMP%]   .star.filled[_ngcontent-%COMP%] {\\n    color: gold;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ29zdC9nb3N0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSw4QkFBOEI7SUFDOUIseUJBQXlCO0lBQ3pCLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxVQUFVO0lBQ1YsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix1Q0FBdUM7QUFDM0M7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixTQUFTO0FBQ2I7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixXQUFXO0lBQ1gsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZ0NBQWdDO0lBQ2hDLG1CQUFtQjtJQUNuQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLE9BQU87QUFDWDs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFdBQVc7QUFDZjs7QUFFQTs7O0lBR0ksd0JBQXdCO0lBQ3hCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSTtRQUNJLFVBQVU7SUFDZDs7SUFFQTtRQUNJLGlCQUFpQjtJQUNyQjs7SUFFQTtRQUNJLGdCQUFnQjtJQUNwQjtBQUNKOztBQUVBO0lBQ0k7UUFDSSxhQUFhO0lBQ2pCOztJQUVBO1FBQ0ksYUFBYTtRQUNiLGVBQWU7UUFDZix1QkFBdUI7SUFDM0I7O0lBRUE7UUFDSSxXQUFXO0lBQ2Y7QUFDSjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixZQUFZO0FBQ2hCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixlQUFlO0lBQ2Ysa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsdUJBQXVCO0lBQ3ZCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixZQUFZO0lBQ1osZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixZQUFZO0lBQ1osZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxjQUFjO0lBQ2QscUJBQXFCO0lBQ3JCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSwwQkFBMEI7QUFDOUI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLGVBQWU7SUFDZixlQUFlO0lBQ2YsV0FBVztFQUNiOztFQUVBO0lBQ0UsV0FBVztFQUNiIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XHJcbiAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjRmNGY0O1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxufVxyXG5cclxuLmNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7IFxyXG4gICAgcGFkZGluZzogMjBweDsgXHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbn1cclxuXHJcbmhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjODU2MWE4OyAgXHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmctdG9wOiAzMHB4O1xyXG4gICAgbWluLWhlaWdodDogNzBweDtcclxuICAgIGJvcmRlci1ib3R0b206ICM2NDQyN2EgM3B4IHNvbGlkOyBcclxufVxyXG5cclxuaGVhZGVyIGgxIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuXHJcbi5idXR0b25zIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbn1cclxuXHJcbi5idXR0b25zIGJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjODU2MWE4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7IFxyXG59XHJcblxyXG4uYnV0dG9ucyBidXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogIzY0NDI3YTsgXHJcbn1cclxuXHJcbi5wcm9maWxlIHtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbi5wcm9maWxlIGgyIHtcclxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjODU2MWE4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDVweDtcclxuICAgIGNvbG9yOiAjODU2MWE4O1xyXG59XHJcblxyXG4ucHJvZmlsZS1pbmZvIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxufVxyXG5cclxuLnByb2ZpbGUtcGljdHVyZSB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbn1cclxuXHJcbi5wcm9maWxlLXBpY3R1cmUgaW1nIHtcclxuICAgIG1heC13aWR0aDogMjAwcHg7XHJcbiAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjODU2MWE4O1xyXG59XHJcblxyXG4ucHJvZmlsZS1kZXRhaWxzIHtcclxuICAgIGZsZXg6IDE7XHJcbn1cclxuXHJcbi5pbnB1dC1maWVsZCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4uaW5wdXQtZmllbGQgbGFiZWwge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGNvbG9yOiAjMzMzO1xyXG59XHJcblxyXG4uaW5wdXQtZmllbGQgaW5wdXRbdHlwZT1cInRleHRcIl0sXHJcbi5pbnB1dC1maWVsZCBpbnB1dFt0eXBlPVwiZW1haWxcIl0sXHJcbi5pbnB1dC1maWVsZCBpbnB1dFt0eXBlPVwidGVsXCJdIHtcclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxMHB4KTtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxufVxyXG5cclxuLmlucHV0LWZpZWxkIGlucHV0W3R5cGU9XCJmaWxlXCJdIHtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxufVxyXG5cclxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gICAgLmNvbnRhaW5lciB7XHJcbiAgICAgICAgd2lkdGg6IDkwJTtcclxuICAgIH1cclxuXHJcbiAgICAuYnV0dG9ucyBidXR0b24ge1xyXG4gICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5wcm9maWxlLXBpY3R1cmUgaW1nIHtcclxuICAgICAgICBtYXgtd2lkdGg6IDE1MHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU3NnB4KSB7XHJcbiAgICAuY29udGFpbmVyIHtcclxuICAgICAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5idXR0b25zIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAuYnV0dG9ucyBidXR0b24ge1xyXG4gICAgICAgIG1hcmdpbjogNXB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4uc3RhcnMge1xyXG4gICAgY29sb3I6IGdvbGQ7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbi5yZXN0YXVyYW50LWxpc3QgdGFibGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDsgXHJcbn1cclxuXHJcbi5yZXN0YXVyYW50LWxpc3QgdGFibGUsIC5yZXN0YXVyYW50LWxpc3QgdGgsIC5yZXN0YXVyYW50LWxpc3QgdGQge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIHBhZGRpbmc6IDhweDtcclxufVxyXG5cclxuLnJlc3RhdXJhbnQtbGlzdCB0aCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjODU2MWE4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4OyBcclxufVxyXG5cclxuLnJlc3RhdXJhbnQtbGlzdCB0aDpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjQ0MjdhOyBcclxufVxyXG5cclxuLnJlc3RhdXJhbnQtbGlzdCB1bCB7XHJcbiAgICBsaXN0LXN0eWxlOiBub25lO1xyXG4gICAgcGFkZGluZzogMDtcclxufVxyXG5cclxuLnNlYXJjaCBpbnB1dCB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gICAgd2lkdGg6IGNhbGMoMzMlIC0gMTBweCk7IFxyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbi5yZXN0YXVyYW50LWxpc3QgYnV0dG9ue1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZDogIzg1NjFhODtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDsgXHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5yZXN0YXVyYW50LWxpc3QgYnV0dG9uOmhvdmVye1xyXG4gICAgYmFja2dyb3VuZDogIzY0NDI3YTsgXHJcbn1cclxuLnNlYXJjaCBidXR0b24ge1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjODU2MWE4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4OyBcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnNlYXJjaCBidXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogIzY0NDI3YTsgXHJcbn1cclxuXHJcbi5wbGFpbi10ZXh0LWxpbmsge1xyXG4gICAgY29sb3I6IGluaGVyaXQ7IFxyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBcclxuICAgIGN1cnNvcjogcG9pbnRlcjsgXHJcbn1cclxuXHJcbi5wbGFpbi10ZXh0LWxpbms6aG92ZXIge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7IFxyXG59XHJcblxyXG4ucmV2aWV3LWZvcm0ge1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDsgXHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHdpZHRoOiA4MCU7IFxyXG4gICAgbWFyZ2luOiAyMHB4IGF1dG87XHJcbiAgfVxyXG4gIFxyXG4gIC5zdGFycyAuc3RhciB7XHJcbiAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBjb2xvcjogI2NjYztcclxuICB9XHJcbiAgXHJcbiAgLnN0YXJzIC5zdGFyLmZpbGxlZCB7XHJcbiAgICBjb2xvcjogZ29sZDtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["rezervacija","lastValueFrom","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","GostComponent_section_13_Template_input_change_6_listener","$event","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","onFileSelected","GostComponent_section_13_Template_input_ngModelChange_13_listener","ctx_r7","ime","GostComponent_section_13_Template_input_ngModelChange_17_listener","ctx_r8","prezime","GostComponent_section_13_Template_input_ngModelChange_21_listener","ctx_r9","adresa","GostComponent_section_13_Template_input_ngModelChange_25_listener","ctx_r10","email","GostComponent_section_13_Template_input_ngModelChange_29_listener","ctx_r11","telefon","GostComponent_section_13_Template_input_ngModelChange_33_listener","ctx_r12","kreditnaKartica","GostComponent_section_13_Template_button_click_35_listener","ctx_r13","updateProfile","ɵɵadvance","ɵɵproperty","ctx_r0","fileDownloaded","ɵɵsanitizeUrl","ɵɵtextInterpolate","errorMessage","successMessage","GostComponent_section_14_Template_input_ngModelChange_3_listener","_r15","ctx_r14","searchNaziv","GostComponent_section_14_Template_input_ngModelChange_4_listener","ctx_r16","searchAdresa","GostComponent_section_14_Template_input_ngModelChange_5_listener","ctx_r17","searchTip","GostComponent_section_14_Template_button_click_6_listener","ctx_r18","search","ctx_r1","ɵɵelementContainerStart","ɵɵelementContainerEnd","ɵɵtextInterpolate2","konobar_r24","name","surname","GostComponent_section_15_tr_17_Template_a_click_2_listener","restoredCtx","_r26","restoran_r20","$implicit","ctx_r25","pregledajRestoran","naziv","ɵɵtemplate","GostComponent_section_15_tr_17_ng_container_12_Template","GostComponent_section_15_tr_17_li_15_Template","tip","ɵɵtextInterpolate1","ɵɵpipeBind2","avgRating","ctx_r19","getStars","getKonobariForRestoran","GostComponent_section_15_Template_th_click_6_listener","_r28","ctx_r27","sort","GostComponent_section_15_Template_th_click_8_listener","ctx_r29","GostComponent_section_15_Template_th_click_10_listener","ctx_r30","GostComponent_section_15_Template_th_click_12_listener","ctx_r31","GostComponent_section_15_tr_17_Template","ctx_r2","filteredRestorani","GostComponent_section_16_tr_15_button_8_Template_button_click_0_listener","_r39","rezervacija_r35","ctx_r37","otkaziRezervaciju","id","GostComponent_section_16_tr_15_button_8_Template","restoran","ctx_r32","formatDate","datum","isOtkaziva","rezervacija_r40","komentarKonobara","komentar","ocena","GostComponent_section_16_tr_28_button_9_Template_button_click_0_listener","_r49","ctx_r47","openReviewForm","GostComponent_section_16_tr_28_span_6_Template","GostComponent_section_16_tr_28_span_7_Template","GostComponent_section_16_tr_28_span_8_Template","GostComponent_section_16_tr_28_button_9_Template","ctx_r33","status","ctx_r50","success","ctx_r51","fail","GostComponent_section_16_div_29_Template_form_submit_3_listener","_r53","ctx_r52","submitReview","GostComponent_section_16_div_29_Template_textarea_ngModelChange_7_listener","ctx_r54","noviKomentar","GostComponent_section_16_div_29_Template_span_click_12_listener","ctx_r55","setRating","GostComponent_section_16_div_29_Template_span_click_14_listener","ctx_r56","GostComponent_section_16_div_29_Template_span_click_16_listener","ctx_r57","GostComponent_section_16_div_29_Template_span_click_18_listener","ctx_r58","GostComponent_section_16_div_29_Template_span_click_20_listener","ctx_r59","GostComponent_section_16_div_29_span_25_Template","GostComponent_section_16_div_29_span_26_Template","ctx_r34","ɵɵclassProp","rating","GostComponent_section_16_tr_15_Template","GostComponent_section_16_tr_28_Template","GostComponent_section_16_div_29_Template","ctx_r3","aktuelneRezervacije","arhiviraneRezervacije","reviewFormId","narudzbina_r62","minVremeDostave","maxVremeDostave","GostComponent_section_17_tr_13_span_4_Template","GostComponent_section_17_tr_13_span_5_Template","GostComponent_section_17_tr_13_span_6_Template","GostComponent_section_17_tr_13_td_7_Template","narudzbina_r68","ctx_r61","cena","GostComponent_section_17_tr_13_Template","GostComponent_section_17_tr_26_Template","ctx_r4","aktuelneNarudzbine","arhiviraneNarudzbine","GostComponent","constructor","narudzbineService","datePipe","userService","sanitizer","restoranService","router","rezervacijeService","fileForUpload","flagProfil","flagRestoran","rezervacijeFlag","dostavaHraneFlag","restorani","konobari","sortDirection","reviewFormRestoran","ngOnInit","_this","_asyncToGenerator","usr","localStorage","getItem","korisnik","JSON","parse","address","phoneNumber","creditCardNumber","data","getFileGost","username","blob","Blob","url","URL","createObjectURL","bypassSecurityTrustUrl","res","getAllRestoraniWithRatings","kon","getAllKonobari","rez","getAktuelneRezervacije","message","rezervacije","forEach","r","rst","newRez","brojGostiju","gost","opis","sto","push","arh","getArhiviraneRezervacije","map","stolovi","find","recenzija","recenzije","rec","rezervacijaId","arhivirana","nar","getNarudzbineForGost","arhivirane","aktuelne","a","b","dateA","Date","dateB","getTime","error","console","log","event","file","target","files","reader","FileReader","onload","e","img","Image","width","height","src","result","toString","readAsDataURL","_this2","updateProfileGost","removeItem","setItem","stringify","updatePictureGost","profil","restoraniShow","dostavaHrane","filter","toLowerCase","includes","column","konobar","Array","Math","round","fill","x","i","navigate","dat","setHours","getHours","now","futureTime","date","month","padWithZero","getMonth","day","getDate","year","getFullYear","hours","minutes","getMinutes","seconds","getSeconds","formattedDate","num","_this3","_this4","ostaviRecenziju","reservation","_","ɵɵdirectiveInject","i1","NarudzbinaService","i2","DatePipe","i3","UserService","i4","DomSanitizer","i5","RestoranService","i6","Router","i7","RezervacijeService","_2","selectors","decls","vars","consts","template","GostComponent_Template","rf","ctx","GostComponent_Template_button_click_5_listener","GostComponent_Template_button_click_7_listener","GostComponent_Template_button_click_9_listener","GostComponent_Template_button_click_11_listener","GostComponent_section_13_Template","GostComponent_section_14_Template","GostComponent_section_15_Template","GostComponent_section_16_Template","GostComponent_section_17_Template"],"sources":["C:\\Users\\Perovic\\Desktop\\PIA\\front\\src\\app\\gost\\gost.component.ts","C:\\Users\\Perovic\\Desktop\\PIA\\front\\src\\app\\gost\\gost.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { gost } from '../models/gost';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { UserService } from '../services/user.service';\nimport { RestoranService } from '../services/restoran.service';\nimport { Router } from '@angular/router';\nimport { rezervacija } from '../models/rezervacija';\nimport { RezervacijeService } from '../services/rezervacije.service';\nimport { DatePipe } from '@angular/common';\nimport { NarudzbinaService } from '../services/narudzbina.service';\nimport { last, lastValueFrom } from 'rxjs';\n\n@Component({\n  selector: 'app-gost',\n  templateUrl: './gost.component.html',\n  styleUrls: ['./gost.component.css']\n})\nexport class GostComponent implements OnInit{\n  korisnik: gost;\n  fileDownloaded: SafeUrl | null = null;\n  fileForUpload: File | null = null;\n  ime: string;\n  prezime: string;\n  adresa: string;\n  email: string;\n  telefon: string;\n  kreditnaKartica: string;\n  errorMessage: string = \"\";\n  successMessage: string = \"\"\n  flagProfil: boolean = true;\n  flagRestoran: boolean = false;\n  rezervacijeFlag: boolean = false;\n  dostavaHraneFlag: boolean = false;\n  restorani = [];\n  konobari = [];\n  filteredRestorani = [];\n  searchNaziv = '';\n  searchAdresa = '';\n  searchTip = '';\n  sortDirection = 'asc';\n  aktuelneNarudzbine = [];\n  arhiviraneNarudzbine = [];\n  aktuelneRezervacije: rezervacija[] = []; \n  arhiviraneRezervacije: rezervacija[] = [];\n  reviewFormId: number | null = null; \n  noviKomentar: string = ''; \n  rating: number = 0; \n  reviewFormRestoran: string = '';\n  success: string = '';\n  fail: string = '';\n  constructor(private narudzbineService: NarudzbinaService,private datePipe: DatePipe, private userService: UserService, private sanitizer: DomSanitizer, private restoranService: RestoranService, private router: Router, private rezervacijeService: RezervacijeService){}\n\n  async ngOnInit(){\n    this.errorMessage = \"\";\n    this.successMessage = \"\";\n    let usr = localStorage.getItem('ulogovan');\n    if(usr != null) this.korisnik = JSON.parse(usr);\n    this.ime = this.korisnik.name;\n    this.prezime = this.korisnik.surname;\n    this.adresa = this.korisnik.address;\n    this.email = this.korisnik.email;\n    this.telefon = this.korisnik.phoneNumber;\n    this.kreditnaKartica = this.korisnik.creditCardNumber;\n    try{\n      let data = await lastValueFrom(this.userService.getFileGost(this.korisnik.username));\n      const blob = new Blob([data]);\n      const url = URL.createObjectURL(blob);\n      this.fileDownloaded = this.sanitizer.bypassSecurityTrustUrl(url);\n      let res = await lastValueFrom(this.restoranService.getAllRestoraniWithRatings());\n      this.restorani = res;\n      this.filteredRestorani = this.restorani;\n      let kon = await lastValueFrom(this.userService.getAllKonobari());\n      this.konobari = kon;\n      let rez: any = await lastValueFrom(this.rezervacijeService.getAktuelneRezervacije(this.korisnik.username));\n      if(rez.message == \"Nema aktuelnih rezervacija\"){\n        this.aktuelneRezervacije = [];\n      } else {\n        rez.rezervacije.forEach(r=>{\n          rez.restorani.forEach(rst=>{\n            if(r.restoran == rst.naziv){\n              let newRez: rezervacija = new rezervacija();\n              newRez.adresa = rst.adresa;\n              newRez.brojGostiju = r.brojGostiju;\n              newRez.datum = r.datum;\n              newRez.gost = r.gost;\n              newRez.id = r.id;\n              newRez.komentarKonobara = r.komentarKonobara;\n              newRez.opis = r.opis;\n              newRez.restoran = rst.naziv;\n              newRez.status = r.status;\n              newRez.sto = r.sto;\n              this.aktuelneRezervacije.push(newRez);\n            }\n          })\n        });\n      }\n      let arh: any = await lastValueFrom(this.rezervacijeService.getArhiviraneRezervacije(this.korisnik.username));\n      if(arh.message == \"Nema arhiviranih rezervacija!\"){\n        this.arhiviraneRezervacije = [];\n      }else{\n        this.arhiviraneRezervacije = arh.rezervacije.map(rezervacija=>{\n          let sto = arh.stolovi.find(sto=>sto.id === rezervacija.sto);\n          let restoran = sto ? sto.restoran : '';\n          let recenzija = arh.recenzije.find(rec => rec.rezervacijaId === rezervacija.id);\n          let komentar = recenzija ? recenzija.komentar : '';\n          let ocena = recenzija ? recenzija.ocena : 0;\n          return{\n            ...rezervacija,\n            restoran: restoran,\n            komentar: komentar,\n            ocena: ocena\n          };\n        });\n        this.arhiviraneRezervacije.forEach(arhivirana=>{\n          if(!arhivirana.komentar){\n            arhivirana.komentar = '';\n          }\n          if(!arhivirana.ocena){\n            arhivirana.ocena = 0;\n          }\n        })\n      }\n      let nar: any = await lastValueFrom(this.narudzbineService.getNarudzbineForGost(this.korisnik.username));\n      this.arhiviraneNarudzbine = nar.arhivirane;\n      this.aktuelneNarudzbine = nar.aktuelne;\n      this.arhiviraneNarudzbine.sort((a, b) => {\n        let dateA = new Date(a.datum);\n        let dateB = new Date(b.datum);\n        return dateA.getTime() - dateB.getTime();\n      });\n    } catch (error){  \n      console.log(error);\n    }\n  }\n\n  onFileSelected(event: any): void {\n    const file: File = event.target.files[0];\n    const reader = new FileReader();\n\n    reader.onload=(e)=>{\n      const img = new Image();\n      img.onload=()=>{\n        const width = img.width;\n        const height = img.height;\n        if(width < 100 || height < 100 || width > 300 || height > 300){\n          this.errorMessage = \"Profilna slika nije odgovarajucih dimenzija\";\n          this.fileForUpload = null;\n        } else {\n          this.errorMessage = \"\"\n          this.fileForUpload = file;\n        }\n      }\n      img.src = e.target.result.toString();\n    }\n    reader.readAsDataURL(file);\n  }\n\n  async updateProfile() {\n    this.korisnik.name = this.ime;\n    this.korisnik.surname = this.prezime;\n    this.korisnik.address = this.adresa;\n    this.korisnik.email = this.email;\n    this.korisnik.phoneNumber = this.telefon;\n    this.korisnik.creditCardNumber = this.kreditnaKartica;\n    try{\n      let rez = await lastValueFrom(this.userService.updateProfileGost(this.korisnik));\n      localStorage.removeItem('ulogovan')\n      localStorage.setItem('ulogovan', JSON.stringify(rez));\n      this.successMessage = \"Uspesno ste azurirali profil!\"\n      if(this.fileForUpload != null){\n        let res = await lastValueFrom(this.userService.updatePictureGost(this.korisnik.username, this.fileForUpload));\n        localStorage.removeItem('ulogovan')\n        localStorage.setItem('ulogovan', JSON.stringify(res));\n        this.successMessage = \"Uspesno ste azurirali profil!\";\n        let data = await lastValueFrom(this.userService.getFileGost(this.korisnik.username));\n        const blob = new Blob([data]);\n        const url = URL.createObjectURL(blob);\n        this.fileDownloaded = this.sanitizer.bypassSecurityTrustUrl(url);\n      }\n    } catch(error){\n      console.log(error);\n    }\n  }\n  \n  profil(){\n    this.flagProfil = true;\n    this.flagRestoran = false;\n    this.rezervacijeFlag = false;\n    this.dostavaHraneFlag = false;\n  }\n\n  restoraniShow(){\n    this.flagProfil = false;\n    this.flagRestoran = true;\n    this.rezervacijeFlag = false;\n    this.dostavaHraneFlag = false;\n  }\n  rezervacije(){\n    this.rezervacijeFlag = true;\n    this.flagProfil = false;\n    this.flagRestoran = false;\n    this.dostavaHraneFlag = false;\n  }\n  dostavaHrane(){\n    this.dostavaHraneFlag = true;\n    this.flagProfil = false;\n    this.rezervacijeFlag = false;\n    this.flagRestoran = false;\n  }\n\n  search() {\n    this.filteredRestorani = this.restorani.filter(r =>\n      r.naziv.toLowerCase().includes(this.searchNaziv.toLowerCase()) && r.adresa.toLowerCase().includes(this.searchAdresa.toLowerCase()) && r.tip.toLowerCase().includes(this.searchTip.toLowerCase())\n    );\n  }\n\n  sort(column: string) {\n    this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\n    this.filteredRestorani.sort((a, b) => {\n      if (a[column] < b[column]) return this.sortDirection === 'asc' ? -1 : 1;\n      if (a[column] > b[column]) return this.sortDirection === 'asc' ? 1 : -1;\n      return 0;\n    });\n  }\n\n  getKonobariForRestoran(restoran: any): any[] {\n    return this.konobari.filter(konobar => konobar.restoran === restoran.naziv);\n  }\n\n  getStars(rating: number): number[] {\n    return Array(Math.round(rating)).fill(0).map((x, i) => i);\n  }\n\n  pregledajRestoran(naziv: string){\n    localStorage.setItem('restoran', naziv);\n    this.router.navigate(['restoran']);\n  }\n\n  isOtkaziva(datum: Date): boolean{\n    const dat = new Date(datum)\n    dat.setHours(dat.getHours() - 2);\n    const now = new Date();\n    const futureTime = new Date(now.getTime() + 45 * 60000);\n    return dat.getTime() >= futureTime.getTime();\n  }\n\n  formatDate(datum: Date): string {\n    let date = new Date(datum);\n    date.setHours(date.getHours() - 2);\n    const month = this.padWithZero(date.getMonth() + 1); \n    const day = this.padWithZero(date.getDate());\n    const year = date.getFullYear();\n    let hours = this.padWithZero(date.getHours());\n    const minutes = this.padWithZero(date.getMinutes());\n    const seconds = this.padWithZero(date.getSeconds());\n  \n    const formattedDate = `${day}.${month}.${year} ${hours}:${minutes}:${seconds}`;\n  \n    return formattedDate;\n  }\n  \n  padWithZero(num: number): string {\n    return num < 10 ? '0' + num : num.toString();\n  }\n\n  async otkaziRezervaciju(id: number){\n    try{\n      let res = await lastValueFrom(this.rezervacijeService.otkaziRezervaciju(id));\n      let rez: any = await lastValueFrom(this.rezervacijeService.getAktuelneRezervacije(this.korisnik.username));\n      if(rez.message == \"Nema aktuelnih rezervacija\"){\n        this.aktuelneRezervacije = [];\n      } else {\n        rez.rezervacije.forEach(r=>{\n          rez.restorani.forEach(rst=>{\n            if(r.restoran == rst.naziv){\n              let newRez: rezervacija = new rezervacija();\n              newRez.adresa = rst.adresa;\n              newRez.brojGostiju = r.brojGostiju;\n              newRez.datum = r.datum;\n              newRez.gost = r.gost;\n              newRez.id = r.id;\n              newRez.komentarKonobara = r.komentarKonobara;\n              newRez.opis = r.opis;\n              newRez.restoran = rst.naziv;\n              newRez.status = r.status;\n              newRez.sto = r.sto;\n              this.aktuelneRezervacije.push(newRez);\n            }\n          })\n        });\n      }\n    } catch (error){\n      console.log(error)\n    }\n  }\n\n  async submitReview(){\n    try{\n      let rez = await lastValueFrom(this.rezervacijeService.ostaviRecenziju(this.reviewFormId, this.noviKomentar, this.rating, this.reviewFormRestoran));\n      if(rez == \"Uspesno ste ostavili recenziju!\"){\n        this.fail = \"\";\n        this.success = rez;\n      } else {\n        this.success = \"\";\n        this.fail = rez;\n      }\n      this.reviewFormId = null;\n      this.noviKomentar = '';\n      this.rating = 0;\n      this.ngOnInit();\n    } catch(error){\n      console.log(error)\n    }\n  }\n\n  openReviewForm(reservation: rezervacija): void {\n    this.reviewFormId = reservation.id;\n    this.reviewFormRestoran = reservation.restoran;\n    this.noviKomentar = ''; \n    this.rating = 0; \n  }\n\n  setRating(rating: number): void {\n    this.rating = rating;\n  }\n}\n","<div class=\"container\">\n    <header>\n        <h1>Dobrodošli u sistem restorana</h1>\n        <div class=\"buttons\">\n            <button (click)=\"profil()\">Profil</button>\n            <button (click)=\"restoraniShow()\">Restorani</button>\n            <button (click)=\"rezervacije()\">Rezervacije</button>\n            <button (click)=\"dostavaHrane()\">Dostava hrane</button>\n        </div>\n    </header>\n    <section class=\"profile\" *ngIf=\"flagProfil == true\">\n        <h2>Profil</h2>\n        <div class=\"profile-info\">\n            <div class=\"profile-picture\">\n                <img [src]=\"fileDownloaded\" alt=\"Downloaded Image\">\n                <input type=\"file\" accept=\"image/*\" (change)=\"onFileSelected($event)\">\n                <span style=\"color: red\">{{errorMessage}}</span>\n            </div>\n            <div class=\"profile-details\">\n                <div class=\"input-field\">\n                    <label for=\"ime\">Ime:</label>\n                    <input type=\"text\" id=\"ime\" name=\"ime\" [(ngModel)]=\"ime\">\n                </div>\n                <div class=\"input-field\">\n                    <label for=\"prezime\">Prezime:</label>\n                    <input type=\"text\" id=\"prezime\" name=\"prezime\" [(ngModel)]=\"prezime\">\n                </div>\n                <div class=\"input-field\">\n                    <label for=\"adresa\">Adresa:</label>\n                    <input type=\"text\" id=\"adresa\" name=\"adresa\" [(ngModel)]=\"adresa\">\n                </div>\n                <div class=\"input-field\">\n                    <label for=\"email\">E-mail adresa:</label>\n                    <input type=\"email\" id=\"email\" name=\"email\" [(ngModel)]=\"email\">\n                </div>\n                <div class=\"input-field\">\n                    <label for=\"telefon\">Kontakt telefon:</label>\n                    <input type=\"tel\" id=\"telefon\" name=\"telefon\" [(ngModel)]=\"telefon\">\n                </div>\n                <div class=\"input-field\">\n                    <label for=\"kreditna-kartica\">Broj kreditne kartice:</label>\n                    <input type=\"text\" id=\"kreditna-kartica\" name=\"kreditna-kartica\" [(ngModel)]=\"kreditnaKartica\">\n                </div>\n                <div class=\"buttons\">\n                    <button (click)=\"updateProfile()\">Ažuriraj profil</button>\n                    <span style=\"color: green;\">{{successMessage}}</span>\n                </div>\n            </div>\n        </div>\n    </section>\n  <section *ngIf=\"flagRestoran == true\" class=\"search\">\n    <h2>Pretraži restorane</h2>\n    <input type=\"text\" placeholder=\"Naziv\" [(ngModel)]=\"searchNaziv\">\n    <input type=\"text\" placeholder=\"Adresa\" [(ngModel)]=\"searchAdresa\">\n    <input type=\"text\" placeholder=\"Tip restorana\" [(ngModel)]=\"searchTip\">\n    <button (click)=\"search()\">Pretraži</button>\n  </section>\n  <section class=\"restaurant-list\" *ngIf=\"flagRestoran == true\">\n    <h2>Lista restorana</h2>\n    <table>\n      <thead>\n        <tr>\n          <th (click)=\"sort('naziv')\">Naziv</th>\n          <th (click)=\"sort('adresa')\">Adresa</th>\n          <th (click)=\"sort('tip')\">Tip restorana</th>\n          <th (click)=\"sort('avgRating')\">Prosečna ocena</th>\n          <th>Konobari</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let restoran of filteredRestorani\">\n          <td><a (click)=\"pregledajRestoran(restoran.naziv)\" class=\"plain-text-link\">{{ restoran.naziv }}</a></td>\n          <td>{{ restoran.adresa }}</td>\n          <td>{{ restoran.tip }}</td>\n          <td>\n            {{ restoran.avgRating | number: '1.1-1' }}\n            <span class=\"stars\">\n              <ng-container *ngFor=\"let star of getStars(restoran.avgRating)\">\n                &#9733;\n              </ng-container>\n            </span>\n          </td>\n          <td>\n            <ul>\n              <li *ngFor=\"let konobar of getKonobariForRestoran(restoran)\">\n                {{ konobar.name }} {{ konobar.surname }}\n              </li>\n            </ul>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </section>\n  <section class=\"restaurant-list\" *ngIf=\"rezervacijeFlag == true\">\n    <h2>Lista aktuelnih rezervacija</h2>\n    <table>\n      <thead>\n        <tr>\n          <th>Restoran</th>\n          <th>Datum</th>\n          <th>Adresa</th>\n          <th>Otkazi rezervaciju</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let rezervacija of aktuelneRezervacije\">\n          <td>{{ rezervacija.restoran }}</td>\n          <td>{{ formatDate(rezervacija.datum) }}</td>\n          <td>{{ rezervacija.adresa }}</td>\n          <td><button *ngIf=\"isOtkaziva(rezervacija.datum)\" (click)=\"otkaziRezervaciju(rezervacija.id)\">Otkazi rezervaciju</button></td>\n        </tr>\n      </tbody>\n    </table>\n  \n    <h2>Lista arhiviranih rezervacija</h2>\n    <table>\n      <thead>\n        <tr>\n          <th>Restoran</th>\n          <th>Datum</th>\n          <th>Recenzija</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let rezervacija of arhiviraneRezervacije\">\n          <td>{{ rezervacija.restoran }}</td>\n          <td>{{ formatDate(rezervacija.datum) }}</td>\n          <td>\n            <span *ngIf=\"rezervacija.status == 'neostvarena'\">Niste se pojavili u restoranu!</span>\n            <span *ngIf=\"rezervacija.status == 'odbijena'\">Rezervacija je odbijena. <strong>Komentar restorana:</strong> {{rezervacija.komentarKonobara}}</span>\n            <span *ngIf=\"!(rezervacija.komentar == '' && rezervacija.ocena == 0) && rezervacija.status!='odbijena' && rezervacija.status!='neostvarena'\">\n              <strong>Komentar:</strong> {{ rezervacija.komentar }}\n              <strong> Ocena:</strong> {{ rezervacija.ocena }} / 5\n            </span>\n            <button *ngIf=\"rezervacija.komentar == '' && rezervacija.ocena == 0 && rezervacija.status == 'ostvarena'\" (click)=\"openReviewForm(rezervacija)\">Ostavi recenziju</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  \n    <div class=\"review-form\" *ngIf=\"reviewFormId !== null\">\n      <h2>Ostavi recenziju</h2>\n      <form (submit)=\"submitReview()\">\n        <label for=\"komentar\">Slobodan komentar:</label><br>\n        <textarea id=\"komentar\" name=\"komentar\" [(ngModel)]=\"noviKomentar\" rows=\"4\" cols=\"50\"></textarea><br>\n        <label for=\"ocena\">Ocena:</label>\n        <div class=\"stars\">\n          <span class=\"star\" (click)=\"setRating(1)\" [class.filled]=\"rating >= 1\">&#9733;</span>\n          <span class=\"star\" (click)=\"setRating(2)\" [class.filled]=\"rating >= 2\">&#9733;</span>\n          <span class=\"star\" (click)=\"setRating(3)\" [class.filled]=\"rating >= 3\">&#9733;</span>\n          <span class=\"star\" (click)=\"setRating(4)\" [class.filled]=\"rating >= 4\">&#9733;</span>\n          <span class=\"star\" (click)=\"setRating(5)\" [class.filled]=\"rating === 5\">&#9733;</span>\n        </div><br>\n        <button type=\"submit\">Potvrdi recenziju</button>\n        <span *ngIf=\"success != ''\" style=\"color: green;\">{{success}}</span>\n        <span *ngIf=\"fail != ''\" style=\"color: red;\">{{fail}}</span>\n      </form>\n    </div>\n  </section>\n  <section class=\"restaurant-list\" *ngIf=\"dostavaHraneFlag == true\">\n    <h2>Lista aktuelnih narudzbina</h2>\n    <table>\n      <thead>\n        <tr>\n          <th>Restoran</th>\n          <th>Status</th>\n          <th>Procenjeno vreme dostave</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let narudzbina of aktuelneNarudzbine\">\n          <td>{{ narudzbina.restoran }}</td>\n          <td><span *ngIf=\"narudzbina.status == 'naCekanju'\">Na cekanju!</span><span *ngIf=\"narudzbina.status == 'odbijena'\">Odbijena!</span> <span *ngIf=\"narudzbina.status == 'potvrdjena'\">Potvrdjena!</span></td>\n          <td *ngIf=\"narudzbina.minVremeDostave != 0\">{{ narudzbina.minVremeDostave }} - {{ narudzbina.maxVremeDostave }}</td>\n        </tr>\n      </tbody>\n    </table>\n  \n    <h2>Lista arhiviranih narudzbina</h2>\n    <table>\n      <thead>\n        <tr>\n          <th>Restoran</th>\n          <th>Datum</th>\n          <th>Iznos racuna</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let narudzbina of arhiviraneNarudzbine\">\n          <td>{{ narudzbina.restoran }}</td>\n          <td>{{ formatDate(narudzbina.datum) }}</td>\n          <td>\n            {{ narudzbina.cena }}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </section>\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}