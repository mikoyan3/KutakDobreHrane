{"ast":null,"code":"import { rezervacija } from '../models/rezervacija';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../services/user.service\";\nimport * as i3 from \"@angular/platform-browser\";\nimport * as i4 from \"../services/restoran.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"../services/rezervacije.service\";\nimport * as i7 from \"@angular/forms\";\nfunction GostComponent_section_0_tr_15_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_0_tr_15_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const rezervacija_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.otkaziRezervaciju(rezervacija_r4.id));\n    });\n    i0.ɵɵtext(1, \"Otkazi rezervaciju\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GostComponent_section_0_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtemplate(8, GostComponent_section_0_tr_15_button_8_Template, 2, 0, \"button\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const rezervacija_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rezervacija_r4.restoran);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.formatDate(rezervacija_r4.datum));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rezervacija_r4.adresa);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isOtkaziva(rezervacija_r4.datum));\n  }\n}\nfunction GostComponent_section_0_tr_28_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Niste se pojavili u restoranu!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GostComponent_section_0_tr_28_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Komentar:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5, \" Ocena:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rezervacija_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", rezervacija_r9.komentar, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", rezervacija_r9.ocena, \" / 5 \");\n  }\n}\nfunction GostComponent_section_0_tr_28_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_0_tr_28_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const rezervacija_r9 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.openReviewForm(rezervacija_r9));\n    });\n    i0.ɵɵtext(1, \"Ostavi recenziju\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GostComponent_section_0_tr_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtemplate(6, GostComponent_section_0_tr_28_span_6_Template, 2, 0, \"span\", 6);\n    i0.ɵɵtemplate(7, GostComponent_section_0_tr_28_span_7_Template, 7, 2, \"span\", 6);\n    i0.ɵɵtemplate(8, GostComponent_section_0_tr_28_button_8_Template, 2, 0, \"button\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const rezervacija_r9 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rezervacija_r9.restoran);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.formatDate(rezervacija_r9.datum));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", rezervacija_r9.status == \"neostvarena\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !(rezervacija_r9.komentar == \"\" && rezervacija_r9.ocena == 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", rezervacija_r9.komentar == \"\" && rezervacija_r9.ocena == 0 && rezervacija_r9.status == \"ostvarena\");\n  }\n}\nfunction GostComponent_section_0_div_29_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r17.success);\n  }\n}\nfunction GostComponent_section_0_div_29_span_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r18.fail);\n  }\n}\nfunction GostComponent_section_0_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h2\");\n    i0.ɵɵtext(2, \"Ostavi recenziju\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 8);\n    i0.ɵɵlistener(\"submit\", function GostComponent_section_0_div_29_Template_form_submit_3_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.submitReview());\n    });\n    i0.ɵɵelementStart(4, \"label\", 9);\n    i0.ɵɵtext(5, \"Slobodan komentar:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵelementStart(7, \"textarea\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function GostComponent_section_0_div_29_Template_textarea_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.noviKomentar = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"label\", 11);\n    i0.ɵɵtext(10, \"Ocena:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 12)(12, \"span\", 13);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_0_div_29_Template_span_click_12_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.setRating(1));\n    });\n    i0.ɵɵtext(13, \"\\u2605\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\", 13);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_0_div_29_Template_span_click_14_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.setRating(2));\n    });\n    i0.ɵɵtext(15, \"\\u2605\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 13);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_0_div_29_Template_span_click_16_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.setRating(3));\n    });\n    i0.ɵɵtext(17, \"\\u2605\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"span\", 13);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_0_div_29_Template_span_click_18_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.setRating(4));\n    });\n    i0.ɵɵtext(19, \"\\u2605\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"span\", 13);\n    i0.ɵɵlistener(\"click\", function GostComponent_section_0_div_29_Template_span_click_20_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r26.setRating(5));\n    });\n    i0.ɵɵtext(21, \"\\u2605\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(22, \"br\");\n    i0.ɵɵelementStart(23, \"button\", 14);\n    i0.ɵɵtext(24, \"Potvrdi recenziju\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, GostComponent_section_0_div_29_span_25_Template, 2, 1, \"span\", 15);\n    i0.ɵɵtemplate(26, GostComponent_section_0_div_29_span_26_Template, 2, 1, \"span\", 16);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.noviKomentar);\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassProp(\"filled\", ctx_r3.rating >= 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"filled\", ctx_r3.rating >= 2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"filled\", ctx_r3.rating >= 3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"filled\", ctx_r3.rating >= 4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"filled\", ctx_r3.rating === 5);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.success != \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.fail != \"\");\n  }\n}\nfunction GostComponent_section_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 1)(1, \"h2\");\n    i0.ɵɵtext(2, \"Lista aktuelnih rezervacija\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\")(4, \"thead\")(5, \"tr\")(6, \"th\");\n    i0.ɵɵtext(7, \"Restoran\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Datum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Adresa\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Otkazi rezervaciju\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"tbody\");\n    i0.ɵɵtemplate(15, GostComponent_section_0_tr_15_Template, 9, 4, \"tr\", 2);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"h2\");\n    i0.ɵɵtext(17, \"Lista arhiviranih rezervacija\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"table\")(19, \"thead\")(20, \"tr\")(21, \"th\");\n    i0.ɵɵtext(22, \"Restoran\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"th\");\n    i0.ɵɵtext(24, \"Datum\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"th\");\n    i0.ɵɵtext(26, \"Recenzija\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"tbody\");\n    i0.ɵɵtemplate(28, GostComponent_section_0_tr_28_Template, 9, 5, \"tr\", 2);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(29, GostComponent_section_0_div_29_Template, 27, 13, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.aktuelneRezervacije);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.arhiviraneRezervacije);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.reviewFormId !== null);\n  }\n}\nexport class GostComponent {\n  constructor(datePipe, userService, sanitizer, restoranService, router, rezervacijeService) {\n    this.datePipe = datePipe;\n    this.userService = userService;\n    this.sanitizer = sanitizer;\n    this.restoranService = restoranService;\n    this.router = router;\n    this.rezervacijeService = rezervacijeService;\n    this.fileDownloaded = null;\n    this.fileForUpload = null;\n    this.errorMessage = \"\";\n    this.successMessage = \"\";\n    this.flagProfil = true;\n    this.flagRestoran = false;\n    this.rezervacijeFlag = false;\n    this.restorani = [];\n    this.konobari = [];\n    this.filteredRestorani = [];\n    this.searchNaziv = '';\n    this.searchAdresa = '';\n    this.searchTip = '';\n    this.sortDirection = 'asc';\n    this.aktuelneRezervacije = [];\n    this.arhiviraneRezervacije = [];\n    this.reviewFormId = null;\n    this.noviKomentar = '';\n    this.rating = 0;\n    this.reviewFormRestoran = '';\n    this.success = '';\n    this.fail = '';\n  }\n  ngOnInit() {\n    this.errorMessage = \"\";\n    this.successMessage = \"\";\n    let usr = localStorage.getItem('ulogovan');\n    if (usr != null) this.korisnik = JSON.parse(usr);\n    this.ime = this.korisnik.name;\n    this.prezime = this.korisnik.surname;\n    this.adresa = this.korisnik.address;\n    this.email = this.korisnik.email;\n    this.telefon = this.korisnik.phoneNumber;\n    this.kreditnaKartica = this.korisnik.creditCardNumber;\n    this.userService.getFileGost(this.korisnik.username).subscribe(data => {\n      const blob = new Blob([data]);\n      const url = URL.createObjectURL(blob);\n      this.fileDownloaded = this.sanitizer.bypassSecurityTrustUrl(url);\n      this.restoranService.getAllRestoraniWithRatings().subscribe(res => {\n        this.restorani = res;\n        this.filteredRestorani = this.restorani;\n        this.userService.getAllKonobari().subscribe(kon => {\n          this.konobari = kon;\n          this.rezervacijeService.getAktuelneRezervacije(this.korisnik.username).subscribe(rez => {\n            if (rez.message == \"Nema aktuelnih rezervacija\") {\n              this.aktuelneRezervacije = [];\n            } else {\n              rez.rezervacije.forEach(r => {\n                rez.stolovi.forEach(s => {\n                  rez.restorani.forEach(rst => {\n                    if (r.sto == s.id && s.restoran == rst.naziv) {\n                      let newRez = new rezervacija();\n                      newRez.adresa = rst.adresa;\n                      newRez.brojGostiju = r.brojGostiju;\n                      newRez.datum = r.datum;\n                      newRez.gost = r.gost;\n                      newRez.id = r.id;\n                      newRez.komentarKonobara = r.komentarKonobara;\n                      newRez.opis = r.opis;\n                      newRez.restoran = rst.naziv;\n                      newRez.status = r.status;\n                      newRez.sto = r.sto;\n                      this.aktuelneRezervacije.push(newRez);\n                    }\n                  });\n                });\n              });\n            }\n            this.rezervacijeService.getArhiviraneRezervacije(this.korisnik.username).subscribe(arh => {\n              if (arh.message == \"Nema arhiviranih rezervacija!\") {\n                this.arhiviraneRezervacije = [];\n              } else {\n                this.arhiviraneRezervacije = arh.rezervacije.map(rezervacija => {\n                  let sto = arh.stolovi.find(sto => sto.id === rezervacija.sto);\n                  let restoran = sto ? sto.restoran : '';\n                  let recenzija = arh.recenzije.find(rec => rec.rezervacijaId === rezervacija.id);\n                  let komentar = recenzija ? recenzija.komentar : '';\n                  let ocena = recenzija ? recenzija.ocena : 0;\n                  return {\n                    ...rezervacija,\n                    restoran: restoran,\n                    komentar: komentar,\n                    ocena: ocena\n                  };\n                });\n                this.arhiviraneRezervacije.forEach(arhivirana => {\n                  if (!arhivirana.komentar) {\n                    arhivirana.komentar = '';\n                  }\n                  if (!arhivirana.ocena) {\n                    arhivirana.ocena = 0;\n                  }\n                });\n              }\n            });\n          });\n        });\n      });\n    });\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = e => {\n      const img = new Image();\n      img.onload = () => {\n        const width = img.width;\n        const height = img.height;\n        if (width < 100 || height < 100 || width > 300 || height > 300) {\n          this.errorMessage = \"Profilna slika nije odgovarajucih dimenzija\";\n          this.fileForUpload = null;\n        } else {\n          this.errorMessage = \"\";\n          this.fileForUpload = file;\n        }\n      };\n      img.src = e.target.result.toString();\n    };\n    reader.readAsDataURL(file);\n  }\n  updateProfile() {\n    this.korisnik.name = this.ime;\n    this.korisnik.surname = this.prezime;\n    this.korisnik.address = this.adresa;\n    this.korisnik.email = this.email;\n    this.korisnik.phoneNumber = this.telefon;\n    this.korisnik.creditCardNumber = this.kreditnaKartica;\n    this.userService.updateProfileGost(this.korisnik).subscribe(rez => {\n      localStorage.removeItem('ulogovan');\n      localStorage.setItem('ulogovan', JSON.stringify(rez));\n      this.successMessage = \"Uspesno ste azurirali profil!\";\n      if (this.fileForUpload != null) {\n        this.userService.updatePictureGost(this.korisnik.username, this.fileForUpload).subscribe(res => {\n          localStorage.removeItem('ulogovan');\n          localStorage.setItem('ulogovan', JSON.stringify(res));\n          this.successMessage = \"Uspesno ste azurirali profil!\";\n          this.userService.getFileGost(this.korisnik.username).subscribe(data => {\n            const blob = new Blob([data]);\n            const url = URL.createObjectURL(blob);\n            this.fileDownloaded = this.sanitizer.bypassSecurityTrustUrl(url);\n          });\n        });\n      }\n    });\n  }\n  profil() {\n    this.flagProfil = true;\n    this.flagRestoran = false;\n    this.rezervacijeFlag = false;\n  }\n  restoraniShow() {\n    this.flagProfil = false;\n    this.flagRestoran = true;\n    this.rezervacijeFlag = false;\n  }\n  rezervacije() {\n    this.rezervacijeFlag = true;\n    this.flagProfil = false;\n    this.flagRestoran = false;\n  }\n  dostavaHrane() {}\n  search() {\n    this.filteredRestorani = this.restorani.filter(r => r.naziv.toLowerCase().includes(this.searchNaziv.toLowerCase()) && r.adresa.toLowerCase().includes(this.searchAdresa.toLowerCase()) && r.tip.toLowerCase().includes(this.searchTip.toLowerCase()));\n  }\n  sort(column) {\n    this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\n    this.filteredRestorani.sort((a, b) => {\n      if (a[column] < b[column]) return this.sortDirection === 'asc' ? -1 : 1;\n      if (a[column] > b[column]) return this.sortDirection === 'asc' ? 1 : -1;\n      return 0;\n    });\n  }\n  getKonobariForRestoran(restoran) {\n    return this.konobari.filter(konobar => konobar.restoran === restoran.naziv);\n  }\n  getStars(rating) {\n    return Array(Math.round(rating)).fill(0).map((x, i) => i);\n  }\n  pregledajRestoran(naziv) {\n    localStorage.setItem('restoran', naziv);\n    this.router.navigate(['restoran']);\n  }\n  isOtkaziva(datum) {\n    const dat = new Date(datum);\n    dat.setHours(dat.getHours() - 2);\n    const now = new Date();\n    const futureTime = new Date(now.getTime() + 45 * 60000);\n    return dat.getTime() >= futureTime.getTime();\n  }\n  formatDate(datum) {\n    let date = new Date(datum);\n    date.setHours(date.getHours() - 2);\n    const month = this.padWithZero(date.getMonth() + 1);\n    const day = this.padWithZero(date.getDate());\n    const year = date.getFullYear();\n    let hours = this.padWithZero(date.getHours());\n    const minutes = this.padWithZero(date.getMinutes());\n    const seconds = this.padWithZero(date.getSeconds());\n    const formattedDate = `${month}.${day}.${year} ${hours}:${minutes}:${seconds}`;\n    return formattedDate;\n  }\n  padWithZero(num) {\n    return num < 10 ? '0' + num : num.toString();\n  }\n  otkaziRezervaciju(id) {\n    this.rezervacijeService.otkaziRezervaciju(id).subscribe(rez => {\n      this.ngOnInit();\n    });\n  }\n  submitReview() {\n    this.rezervacijeService.ostaviRecenziju(this.reviewFormId, this.noviKomentar, this.rating, this.reviewFormRestoran).subscribe(rez => {\n      if (rez == \"Uspesno ste ostavili recenziju!\") {\n        this.fail = \"\";\n        this.success = rez;\n      } else {\n        this.success = \"\";\n        this.fail = rez;\n      }\n      this.reviewFormId = null;\n      this.noviKomentar = '';\n      this.rating = 0;\n    });\n  }\n  openReviewForm(reservation) {\n    this.reviewFormId = reservation.id;\n    this.reviewFormRestoran = reservation.restoran;\n    this.noviKomentar = '';\n    this.rating = 0;\n  }\n  setRating(rating) {\n    this.rating = rating;\n  }\n  static #_ = this.ɵfac = function GostComponent_Factory(t) {\n    return new (t || GostComponent)(i0.ɵɵdirectiveInject(i1.DatePipe), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.DomSanitizer), i0.ɵɵdirectiveInject(i4.RestoranService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.RezervacijeService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GostComponent,\n    selectors: [[\"app-gost\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"restaurant-list\", 4, \"ngIf\"], [1, \"restaurant-list\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"review-form\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"], [4, \"ngIf\"], [1, \"review-form\"], [3, \"submit\"], [\"for\", \"komentar\"], [\"id\", \"komentar\", \"name\", \"komentar\", \"rows\", \"4\", \"cols\", \"50\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"ocena\"], [1, \"stars\"], [1, \"star\", 3, \"click\"], [\"type\", \"submit\"], [\"style\", \"color: green;\", 4, \"ngIf\"], [\"style\", \"color: red;\", 4, \"ngIf\"], [2, \"color\", \"green\"], [2, \"color\", \"red\"]],\n    template: function GostComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, GostComponent_section_0_Template, 30, 3, \"section\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.rezervacijeFlag == true);\n      }\n    },\n    dependencies: [i1.NgForOf, i1.NgIf, i7.ɵNgNoValidate, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.NgModel, i7.NgForm],\n    styles: [\"body[_ngcontent-%COMP%] {\\n    font-family: Arial, sans-serif;\\n    background-color: #f4f4f4;\\n    margin: 0;\\n    padding: 0;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n    width: 80%;\\n    margin: auto;\\n    overflow: hidden;\\n    background-color: #f7f7f7; \\n    padding: 20px; \\n    border-radius: 8px;\\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\\n}\\n\\nheader[_ngcontent-%COMP%] {\\n    background: #8561a8;  \\n    color: #fff;\\n    padding-top: 30px;\\n    min-height: 70px;\\n    border-bottom: #64427a 3px solid; \\n}\\n\\nheader[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n    text-align: center;\\n    text-transform: uppercase;\\n    margin: 0;\\n}\\n\\n.buttons[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-top: 10px;\\n}\\n\\n.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    background: #8561a8;\\n    color: white;\\n    border: none;\\n    padding: 10px 20px;\\n    cursor: pointer;\\n    margin: 5px;\\n    border-radius: 4px; \\n}\\n\\n.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background: #64427a; \\n}\\n\\n.profile[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n}\\n\\n.profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    border-bottom: 2px solid #8561a8;\\n    padding-bottom: 5px;\\n    color: #8561a8;\\n}\\n\\n.profile-info[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: flex-start;\\n}\\n\\n.profile-picture[_ngcontent-%COMP%] {\\n    margin-right: 20px;\\n}\\n\\n.profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    max-width: 200px;\\n    height: auto;\\n    border-radius: 50%;\\n    border: 2px solid #8561a8;\\n}\\n\\n.profile-details[_ngcontent-%COMP%] {\\n    flex: 1;\\n}\\n\\n.input-field[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n}\\n\\n.input-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 5px;\\n    font-weight: bold;\\n    color: #333;\\n}\\n\\n.input-field[_ngcontent-%COMP%]   input[type=\\\"text\\\"][_ngcontent-%COMP%], .input-field[_ngcontent-%COMP%]   input[type=\\\"email\\\"][_ngcontent-%COMP%], .input-field[_ngcontent-%COMP%]   input[type=\\\"tel\\\"][_ngcontent-%COMP%] {\\n    width: calc(100% - 10px);\\n    padding: 10px;\\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    box-sizing: border-box;\\n}\\n\\n.input-field[_ngcontent-%COMP%]   input[type=\\\"file\\\"][_ngcontent-%COMP%] {\\n    margin-top: 5px;\\n}\\n\\n@media only screen and (max-width: 768px) {\\n    .container[_ngcontent-%COMP%] {\\n        width: 90%;\\n    }\\n\\n    .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n        padding: 8px 16px;\\n    }\\n\\n    .profile-picture[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n        max-width: 150px;\\n    }\\n}\\n\\n@media only screen and (max-width: 576px) {\\n    .container[_ngcontent-%COMP%] {\\n        padding: 15px;\\n    }\\n\\n    .buttons[_ngcontent-%COMP%] {\\n        display: flex;\\n        flex-wrap: wrap;\\n        justify-content: center;\\n    }\\n\\n    .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n        margin: 5px;\\n    }\\n}\\n\\n.stars[_ngcontent-%COMP%] {\\n    color: gold;\\n    display: inline-block;\\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse;\\n    margin-top: 20px; \\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .restaurant-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .restaurant-list[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    border: 1px solid #ccc;\\n    padding: 8px;\\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n    background-color: #8561a8;\\n    color: white;\\n    cursor: pointer;\\n    border-radius: 4px; \\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover {\\n    background-color: #64427a; \\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n    list-style: none;\\n    padding: 0;\\n}\\n\\n.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    padding: 10px;\\n    margin-right: 10px;\\n    width: calc(33% - 10px); \\n    border: 1px solid #ccc;\\n    border-radius: 4px;\\n    box-sizing: border-box;\\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{\\n    margin-top: 10px;\\n    margin-bottom: 10px;\\n    padding: 10px;\\n    background: #8561a8;\\n    color: white;\\n    border: none;\\n    cursor: pointer;\\n    border-radius: 4px; \\n    text-align: center;\\n}\\n\\n.restaurant-list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{\\n    background: #64427a; \\n}\\n.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    margin-top: 10px;\\n    padding: 10px;\\n    background: #8561a8;\\n    color: white;\\n    border: none;\\n    cursor: pointer;\\n    border-radius: 4px; \\n    text-align: center;\\n}\\n\\n.search[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background: #64427a; \\n}\\n\\n.plain-text-link[_ngcontent-%COMP%] {\\n    color: inherit; \\n    text-decoration: none; \\n    cursor: pointer; \\n}\\n\\n.plain-text-link[_ngcontent-%COMP%]:hover {\\n    text-decoration: underline; \\n}\\n\\n.review-form[_ngcontent-%COMP%] {\\n    margin-top: 20px; \\n    padding: 20px;\\n    border: 1px solid #ccc;\\n    border-radius: 5px;\\n    width: 80%; \\n    margin: 20px auto;\\n  }\\n  \\n  .stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%] {\\n    font-size: 24px;\\n    cursor: pointer;\\n    color: #ccc;\\n  }\\n  \\n  .stars[_ngcontent-%COMP%]   .star.filled[_ngcontent-%COMP%] {\\n    color: gold;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ29zdC9nb3N0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSw4QkFBOEI7SUFDOUIseUJBQXlCO0lBQ3pCLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxVQUFVO0lBQ1YsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQix5QkFBeUI7SUFDekIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix1Q0FBdUM7QUFDM0M7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixTQUFTO0FBQ2I7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixXQUFXO0lBQ1gsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksZ0NBQWdDO0lBQ2hDLG1CQUFtQjtJQUNuQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLE9BQU87QUFDWDs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLFdBQVc7QUFDZjs7QUFFQTs7O0lBR0ksd0JBQXdCO0lBQ3hCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSTtRQUNJLFVBQVU7SUFDZDs7SUFFQTtRQUNJLGlCQUFpQjtJQUNyQjs7SUFFQTtRQUNJLGdCQUFnQjtJQUNwQjtBQUNKOztBQUVBO0lBQ0k7UUFDSSxhQUFhO0lBQ2pCOztJQUVBO1FBQ0ksYUFBYTtRQUNiLGVBQWU7UUFDZix1QkFBdUI7SUFDM0I7O0lBRUE7UUFDSSxXQUFXO0lBQ2Y7QUFDSjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixZQUFZO0FBQ2hCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixlQUFlO0lBQ2Ysa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLFVBQVU7QUFDZDs7QUFFQTtJQUNJLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIsdUJBQXVCO0lBQ3ZCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixZQUFZO0lBQ1osZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7QUFDQTtJQUNJLGdCQUFnQjtJQUNoQixhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixZQUFZO0lBQ1osZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxjQUFjO0lBQ2QscUJBQXFCO0lBQ3JCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSwwQkFBMEI7QUFDOUI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLGVBQWU7SUFDZixlQUFlO0lBQ2YsV0FBVztFQUNiOztFQUVBO0lBQ0UsV0FBVztFQUNiIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSB7XHJcbiAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjRmNGY0O1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxufVxyXG5cclxuLmNvbnRhaW5lciB7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7IFxyXG4gICAgcGFkZGluZzogMjBweDsgXHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbn1cclxuXHJcbmhlYWRlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjODU2MWE4OyAgXHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmctdG9wOiAzMHB4O1xyXG4gICAgbWluLWhlaWdodDogNzBweDtcclxuICAgIGJvcmRlci1ib3R0b206ICM2NDQyN2EgM3B4IHNvbGlkOyBcclxufVxyXG5cclxuaGVhZGVyIGgxIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBtYXJnaW46IDA7XHJcbn1cclxuXHJcbi5idXR0b25zIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbn1cclxuXHJcbi5idXR0b25zIGJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjODU2MWE4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgbWFyZ2luOiA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7IFxyXG59XHJcblxyXG4uYnV0dG9ucyBidXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogIzY0NDI3YTsgXHJcbn1cclxuXHJcbi5wcm9maWxlIHtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbi5wcm9maWxlIGgyIHtcclxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjODU2MWE4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDVweDtcclxuICAgIGNvbG9yOiAjODU2MWE4O1xyXG59XHJcblxyXG4ucHJvZmlsZS1pbmZvIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcclxufVxyXG5cclxuLnByb2ZpbGUtcGljdHVyZSB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbn1cclxuXHJcbi5wcm9maWxlLXBpY3R1cmUgaW1nIHtcclxuICAgIG1heC13aWR0aDogMjAwcHg7XHJcbiAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjODU2MWE4O1xyXG59XHJcblxyXG4ucHJvZmlsZS1kZXRhaWxzIHtcclxuICAgIGZsZXg6IDE7XHJcbn1cclxuXHJcbi5pbnB1dC1maWVsZCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG59XHJcblxyXG4uaW5wdXQtZmllbGQgbGFiZWwge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGNvbG9yOiAjMzMzO1xyXG59XHJcblxyXG4uaW5wdXQtZmllbGQgaW5wdXRbdHlwZT1cInRleHRcIl0sXHJcbi5pbnB1dC1maWVsZCBpbnB1dFt0eXBlPVwiZW1haWxcIl0sXHJcbi5pbnB1dC1maWVsZCBpbnB1dFt0eXBlPVwidGVsXCJdIHtcclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxMHB4KTtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxufVxyXG5cclxuLmlucHV0LWZpZWxkIGlucHV0W3R5cGU9XCJmaWxlXCJdIHtcclxuICAgIG1hcmdpbi10b3A6IDVweDtcclxufVxyXG5cclxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjhweCkge1xyXG4gICAgLmNvbnRhaW5lciB7XHJcbiAgICAgICAgd2lkdGg6IDkwJTtcclxuICAgIH1cclxuXHJcbiAgICAuYnV0dG9ucyBidXR0b24ge1xyXG4gICAgICAgIHBhZGRpbmc6IDhweCAxNnB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5wcm9maWxlLXBpY3R1cmUgaW1nIHtcclxuICAgICAgICBtYXgtd2lkdGg6IDE1MHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU3NnB4KSB7XHJcbiAgICAuY29udGFpbmVyIHtcclxuICAgICAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5idXR0b25zIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAuYnV0dG9ucyBidXR0b24ge1xyXG4gICAgICAgIG1hcmdpbjogNXB4O1xyXG4gICAgfVxyXG59XHJcblxyXG4uc3RhcnMge1xyXG4gICAgY29sb3I6IGdvbGQ7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbi5yZXN0YXVyYW50LWxpc3QgdGFibGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDsgXHJcbn1cclxuXHJcbi5yZXN0YXVyYW50LWxpc3QgdGFibGUsIC5yZXN0YXVyYW50LWxpc3QgdGgsIC5yZXN0YXVyYW50LWxpc3QgdGQge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIHBhZGRpbmc6IDhweDtcclxufVxyXG5cclxuLnJlc3RhdXJhbnQtbGlzdCB0aCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjODU2MWE4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4OyBcclxufVxyXG5cclxuLnJlc3RhdXJhbnQtbGlzdCB0aDpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjQ0MjdhOyBcclxufVxyXG5cclxuLnJlc3RhdXJhbnQtbGlzdCB1bCB7XHJcbiAgICBsaXN0LXN0eWxlOiBub25lO1xyXG4gICAgcGFkZGluZzogMDtcclxufVxyXG5cclxuLnNlYXJjaCBpbnB1dCB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gICAgd2lkdGg6IGNhbGMoMzMlIC0gMTBweCk7IFxyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbi5yZXN0YXVyYW50LWxpc3QgYnV0dG9ue1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZDogIzg1NjFhODtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDRweDsgXHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5yZXN0YXVyYW50LWxpc3QgYnV0dG9uOmhvdmVye1xyXG4gICAgYmFja2dyb3VuZDogIzY0NDI3YTsgXHJcbn1cclxuLnNlYXJjaCBidXR0b24ge1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiAjODU2MWE4O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4OyBcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnNlYXJjaCBidXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogIzY0NDI3YTsgXHJcbn1cclxuXHJcbi5wbGFpbi10ZXh0LWxpbmsge1xyXG4gICAgY29sb3I6IGluaGVyaXQ7IFxyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBcclxuICAgIGN1cnNvcjogcG9pbnRlcjsgXHJcbn1cclxuXHJcbi5wbGFpbi10ZXh0LWxpbms6aG92ZXIge1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7IFxyXG59XHJcblxyXG4ucmV2aWV3LWZvcm0ge1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDsgXHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHdpZHRoOiA4MCU7IFxyXG4gICAgbWFyZ2luOiAyMHB4IGF1dG87XHJcbiAgfVxyXG4gIFxyXG4gIC5zdGFycyAuc3RhciB7XHJcbiAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBjb2xvcjogI2NjYztcclxuICB9XHJcbiAgXHJcbiAgLnN0YXJzIC5zdGFyLmZpbGxlZCB7XHJcbiAgICBjb2xvcjogZ29sZDtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["rezervacija","i0","ɵɵelementStart","ɵɵlistener","GostComponent_section_0_tr_15_button_8_Template_button_click_0_listener","ɵɵrestoreView","_r8","rezervacija_r4","ɵɵnextContext","$implicit","ctx_r6","ɵɵresetView","otkaziRezervaciju","id","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","GostComponent_section_0_tr_15_button_8_Template","ɵɵadvance","ɵɵtextInterpolate","restoran","ctx_r1","formatDate","datum","adresa","ɵɵproperty","isOtkaziva","ɵɵtextInterpolate1","rezervacija_r9","komentar","ocena","GostComponent_section_0_tr_28_button_8_Template_button_click_0_listener","_r16","ctx_r14","openReviewForm","GostComponent_section_0_tr_28_span_6_Template","GostComponent_section_0_tr_28_span_7_Template","GostComponent_section_0_tr_28_button_8_Template","ctx_r2","status","ctx_r17","success","ctx_r18","fail","GostComponent_section_0_div_29_Template_form_submit_3_listener","_r20","ctx_r19","submitReview","ɵɵelement","GostComponent_section_0_div_29_Template_textarea_ngModelChange_7_listener","$event","ctx_r21","noviKomentar","GostComponent_section_0_div_29_Template_span_click_12_listener","ctx_r22","setRating","GostComponent_section_0_div_29_Template_span_click_14_listener","ctx_r23","GostComponent_section_0_div_29_Template_span_click_16_listener","ctx_r24","GostComponent_section_0_div_29_Template_span_click_18_listener","ctx_r25","GostComponent_section_0_div_29_Template_span_click_20_listener","ctx_r26","GostComponent_section_0_div_29_span_25_Template","GostComponent_section_0_div_29_span_26_Template","ctx_r3","ɵɵclassProp","rating","GostComponent_section_0_tr_15_Template","GostComponent_section_0_tr_28_Template","GostComponent_section_0_div_29_Template","ctx_r0","aktuelneRezervacije","arhiviraneRezervacije","reviewFormId","GostComponent","constructor","datePipe","userService","sanitizer","restoranService","router","rezervacijeService","fileDownloaded","fileForUpload","errorMessage","successMessage","flagProfil","flagRestoran","rezervacijeFlag","restorani","konobari","filteredRestorani","searchNaziv","searchAdresa","searchTip","sortDirection","reviewFormRestoran","ngOnInit","usr","localStorage","getItem","korisnik","JSON","parse","ime","name","prezime","surname","address","email","telefon","phoneNumber","kreditnaKartica","creditCardNumber","getFileGost","username","subscribe","data","blob","Blob","url","URL","createObjectURL","bypassSecurityTrustUrl","getAllRestoraniWithRatings","res","getAllKonobari","kon","getAktuelneRezervacije","rez","message","rezervacije","forEach","r","stolovi","s","rst","sto","naziv","newRez","brojGostiju","gost","komentarKonobara","opis","push","getArhiviraneRezervacije","arh","map","find","recenzija","recenzije","rec","rezervacijaId","arhivirana","onFileSelected","event","file","target","files","reader","FileReader","onload","e","img","Image","width","height","src","result","toString","readAsDataURL","updateProfile","updateProfileGost","removeItem","setItem","stringify","updatePictureGost","profil","restoraniShow","dostavaHrane","search","filter","toLowerCase","includes","tip","sort","column","a","b","getKonobariForRestoran","konobar","getStars","Array","Math","round","fill","x","i","pregledajRestoran","navigate","dat","Date","setHours","getHours","now","futureTime","getTime","date","month","padWithZero","getMonth","day","getDate","year","getFullYear","hours","minutes","getMinutes","seconds","getSeconds","formattedDate","num","ostaviRecenziju","reservation","_","ɵɵdirectiveInject","i1","DatePipe","i2","UserService","i3","DomSanitizer","i4","RestoranService","i5","Router","i6","RezervacijeService","_2","selectors","decls","vars","consts","template","GostComponent_Template","rf","ctx","GostComponent_section_0_Template"],"sources":["C:\\Users\\Perovic\\Desktop\\PIA\\front\\src\\app\\gost\\gost.component.ts","C:\\Users\\Perovic\\Desktop\\PIA\\front\\src\\app\\gost\\gost.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { gost } from '../models/gost';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { UserService } from '../services/user.service';\nimport { RestoranService } from '../services/restoran.service';\nimport { Router } from '@angular/router';\nimport { rezervacija } from '../models/rezervacija';\nimport { RezervacijeService } from '../services/rezervacije.service';\nimport { DatePipe } from '@angular/common';\n\n@Component({\n  selector: 'app-gost',\n  templateUrl: './gost.component.html',\n  styleUrls: ['./gost.component.css']\n})\nexport class GostComponent implements OnInit{\n  korisnik: gost;\n  fileDownloaded: SafeUrl | null = null;\n  fileForUpload: File | null = null;\n  ime: string;\n  prezime: string;\n  adresa: string;\n  email: string;\n  telefon: string;\n  kreditnaKartica: string;\n  errorMessage: string = \"\";\n  successMessage: string = \"\"\n  flagProfil: boolean = true;\n  flagRestoran: boolean = false;\n  rezervacijeFlag: boolean = false;\n  restorani = [];\n  konobari = [];\n  filteredRestorani = [];\n  searchNaziv = '';\n  searchAdresa = '';\n  searchTip = '';\n  sortDirection = 'asc';\n  \n  aktuelneRezervacije: rezervacija[] = []; \n  arhiviraneRezervacije: rezervacija[] = [];\n  reviewFormId: number | null = null; \n  noviKomentar: string = ''; \n  rating: number = 0; \n  reviewFormRestoran: string = '';\n  success: string = '';\n  fail: string = '';\n  constructor(private datePipe: DatePipe, private userService: UserService, private sanitizer: DomSanitizer, private restoranService: RestoranService, private router: Router, private rezervacijeService: RezervacijeService){}\n\n  ngOnInit(): void {\n    this.errorMessage = \"\";\n    this.successMessage = \"\";\n    let usr = localStorage.getItem('ulogovan');\n    if(usr != null) this.korisnik = JSON.parse(usr);\n    this.ime = this.korisnik.name;\n    this.prezime = this.korisnik.surname;\n    this.adresa = this.korisnik.address;\n    this.email = this.korisnik.email;\n    this.telefon = this.korisnik.phoneNumber;\n    this.kreditnaKartica = this.korisnik.creditCardNumber;\n    this.userService.getFileGost(this.korisnik.username).subscribe(data=>{\n      const blob = new Blob([data]);\n      const url = URL.createObjectURL(blob);\n      this.fileDownloaded = this.sanitizer.bypassSecurityTrustUrl(url);\n      this.restoranService.getAllRestoraniWithRatings().subscribe(res=>{\n        this.restorani = res;\n        this.filteredRestorani = this.restorani;\n        this.userService.getAllKonobari().subscribe(kon=>{\n          this.konobari = kon;\n          this.rezervacijeService.getAktuelneRezervacije(this.korisnik.username).subscribe((rez: any)=>{\n            if(rez.message == \"Nema aktuelnih rezervacija\"){\n              this.aktuelneRezervacije = [];\n            } else {\n              rez.rezervacije.forEach(r=>{\n                rez.stolovi.forEach(s=>{\n                  rez.restorani.forEach(rst=>{\n                    if(r.sto == s.id && s.restoran == rst.naziv){\n                      let newRez: rezervacija = new rezervacija();\n                      newRez.adresa = rst.adresa;\n                      newRez.brojGostiju = r.brojGostiju;\n                      newRez.datum = r.datum;\n                      newRez.gost = r.gost;\n                      newRez.id = r.id;\n                      newRez.komentarKonobara = r.komentarKonobara;\n                      newRez.opis = r.opis;\n                      newRez.restoran = rst.naziv;\n                      newRez.status = r.status;\n                      newRez.sto = r.sto;\n                      this.aktuelneRezervacije.push(newRez);\n                    }\n                  })\n                })\n              })\n            }\n            this.rezervacijeService.getArhiviraneRezervacije(this.korisnik.username).subscribe((arh: any)=>{\n              if(arh.message == \"Nema arhiviranih rezervacija!\"){\n                this.arhiviraneRezervacije = [];\n              }else{\n                this.arhiviraneRezervacije = arh.rezervacije.map(rezervacija=>{\n                  let sto = arh.stolovi.find(sto=>sto.id === rezervacija.sto);\n                  let restoran = sto ? sto.restoran : '';\n                  let recenzija = arh.recenzije.find(rec => rec.rezervacijaId === rezervacija.id);\n                  let komentar = recenzija ? recenzija.komentar : '';\n                  let ocena = recenzija ? recenzija.ocena : 0;\n                  return{\n                    ...rezervacija,\n                    restoran: restoran,\n                    komentar: komentar,\n                    ocena: ocena\n                  };\n                });\n                this.arhiviraneRezervacije.forEach(arhivirana=>{\n                  if(!arhivirana.komentar){\n                    arhivirana.komentar = '';\n                  }\n                  if(!arhivirana.ocena){\n                    arhivirana.ocena = 0;\n                  }\n                })\n              }\n            })\n          })\n        })\n      })\n    })\n  }\n\n  onFileSelected(event: any): void {\n    const file: File = event.target.files[0];\n    const reader = new FileReader();\n\n    reader.onload=(e)=>{\n      const img = new Image();\n      img.onload=()=>{\n        const width = img.width;\n        const height = img.height;\n        if(width < 100 || height < 100 || width > 300 || height > 300){\n          this.errorMessage = \"Profilna slika nije odgovarajucih dimenzija\";\n          this.fileForUpload = null;\n        } else {\n          this.errorMessage = \"\"\n          this.fileForUpload = file;\n        }\n      }\n      img.src = e.target.result.toString();\n    }\n    reader.readAsDataURL(file);\n  }\n\n  updateProfile() {\n    this.korisnik.name = this.ime;\n    this.korisnik.surname = this.prezime;\n    this.korisnik.address = this.adresa;\n    this.korisnik.email = this.email;\n    this.korisnik.phoneNumber = this.telefon;\n    this.korisnik.creditCardNumber = this.kreditnaKartica;\n  \n    this.userService.updateProfileGost(this.korisnik).subscribe(rez=>{\n      localStorage.removeItem('ulogovan')\n      localStorage.setItem('ulogovan', JSON.stringify(rez));\n      this.successMessage = \"Uspesno ste azurirali profil!\"\n      if(this.fileForUpload != null){\n        this.userService.updatePictureGost(this.korisnik.username, this.fileForUpload).subscribe(res=>{\n          localStorage.removeItem('ulogovan')\n          localStorage.setItem('ulogovan', JSON.stringify(res));\n          this.successMessage = \"Uspesno ste azurirali profil!\"\n          this.userService.getFileGost(this.korisnik.username).subscribe(data=>{\n            const blob = new Blob([data]);\n            const url = URL.createObjectURL(blob);\n            this.fileDownloaded = this.sanitizer.bypassSecurityTrustUrl(url);\n          })\n        })\n      }\n    })\n  }\n  \n  profil(){\n    this.flagProfil = true;\n    this.flagRestoran = false;\n    this.rezervacijeFlag = false;\n  }\n\n  restoraniShow(){\n    this.flagProfil = false;\n    this.flagRestoran = true;\n    this.rezervacijeFlag = false;\n  }\n  rezervacije(){\n    this.rezervacijeFlag = true;\n    this.flagProfil = false;\n    this.flagRestoran = false;\n  }\n  dostavaHrane(){}\n\n  search() {\n    this.filteredRestorani = this.restorani.filter(r =>\n      r.naziv.toLowerCase().includes(this.searchNaziv.toLowerCase()) && r.adresa.toLowerCase().includes(this.searchAdresa.toLowerCase()) && r.tip.toLowerCase().includes(this.searchTip.toLowerCase())\n    );\n  }\n\n  sort(column: string) {\n    this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\n    this.filteredRestorani.sort((a, b) => {\n      if (a[column] < b[column]) return this.sortDirection === 'asc' ? -1 : 1;\n      if (a[column] > b[column]) return this.sortDirection === 'asc' ? 1 : -1;\n      return 0;\n    });\n  }\n\n  getKonobariForRestoran(restoran: any): any[] {\n    return this.konobari.filter(konobar => konobar.restoran === restoran.naziv);\n  }\n\n  getStars(rating: number): number[] {\n    return Array(Math.round(rating)).fill(0).map((x, i) => i);\n  }\n\n  pregledajRestoran(naziv: string){\n    localStorage.setItem('restoran', naziv);\n    this.router.navigate(['restoran']);\n  }\n\n  isOtkaziva(datum: Date): boolean{\n    const dat = new Date(datum)\n    dat.setHours(dat.getHours() - 2);\n    const now = new Date();\n    const futureTime = new Date(now.getTime() + 45 * 60000);\n    return dat.getTime() >= futureTime.getTime();\n  }\n\n  formatDate(datum: Date): string {\n    let date = new Date(datum);\n    date.setHours(date.getHours() - 2);\n    const month = this.padWithZero(date.getMonth() + 1); \n    const day = this.padWithZero(date.getDate());\n    const year = date.getFullYear();\n    let hours = this.padWithZero(date.getHours());\n    const minutes = this.padWithZero(date.getMinutes());\n    const seconds = this.padWithZero(date.getSeconds());\n  \n    const formattedDate = `${month}.${day}.${year} ${hours}:${minutes}:${seconds}`;\n  \n    return formattedDate;\n  }\n  \n  padWithZero(num: number): string {\n    return num < 10 ? '0' + num : num.toString();\n  }\n\n  otkaziRezervaciju(id: number){\n    this.rezervacijeService.otkaziRezervaciju(id).subscribe(rez=>{\n      this.ngOnInit();\n    })\n  }\n\n  submitReview(): void{\n    this.rezervacijeService.ostaviRecenziju(this.reviewFormId, this.noviKomentar, this.rating, this.reviewFormRestoran).subscribe(rez=>{\n      if(rez == \"Uspesno ste ostavili recenziju!\"){\n        this.fail = \"\";\n        this.success = rez;\n      } else {\n        this.success = \"\";\n        this.fail = rez;\n      }\n      this.reviewFormId = null;\n      this.noviKomentar = '';\n      this.rating = 0;\n    })\n  }\n\n  openReviewForm(reservation: rezervacija): void {\n    this.reviewFormId = reservation.id;\n    this.reviewFormRestoran = reservation.restoran;\n    this.noviKomentar = ''; \n    this.rating = 0; \n  }\n\n  setRating(rating: number): void {\n    this.rating = rating;\n  }\n}\n","<section class=\"restaurant-list\" *ngIf=\"rezervacijeFlag == true\">\n  <h2>Lista aktuelnih rezervacija</h2>\n  <table>\n    <thead>\n      <tr>\n        <th>Restoran</th>\n        <th>Datum</th>\n        <th>Adresa</th>\n        <th>Otkazi rezervaciju</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let rezervacija of aktuelneRezervacije\">\n        <td>{{ rezervacija.restoran }}</td>\n        <td>{{ formatDate(rezervacija.datum) }}</td>\n        <td>{{ rezervacija.adresa }}</td>\n        <td><button *ngIf=\"isOtkaziva(rezervacija.datum)\" (click)=\"otkaziRezervaciju(rezervacija.id)\">Otkazi rezervaciju</button></td>\n      </tr>\n    </tbody>\n  </table>\n\n  <h2>Lista arhiviranih rezervacija</h2>\n  <table>\n    <thead>\n      <tr>\n        <th>Restoran</th>\n        <th>Datum</th>\n        <th>Recenzija</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let rezervacija of arhiviraneRezervacije\">\n        <td>{{ rezervacija.restoran }}</td>\n        <td>{{ formatDate(rezervacija.datum) }}</td>\n        <td>\n          <span *ngIf=\"rezervacija.status == 'neostvarena'\">Niste se pojavili u restoranu!</span>\n          <span *ngIf=\"!(rezervacija.komentar == '' && rezervacija.ocena == 0)\">\n            <strong>Komentar:</strong> {{ rezervacija.komentar }}\n            <strong> Ocena:</strong> {{ rezervacija.ocena }} / 5\n          </span>\n          <button *ngIf=\"rezervacija.komentar == '' && rezervacija.ocena == 0 && rezervacija.status == 'ostvarena'\" (click)=\"openReviewForm(rezervacija)\">Ostavi recenziju</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class=\"review-form\" *ngIf=\"reviewFormId !== null\">\n    <h2>Ostavi recenziju</h2>\n    <form (submit)=\"submitReview()\">\n      <label for=\"komentar\">Slobodan komentar:</label><br>\n      <textarea id=\"komentar\" name=\"komentar\" [(ngModel)]=\"noviKomentar\" rows=\"4\" cols=\"50\"></textarea><br>\n      <label for=\"ocena\">Ocena:</label>\n      <div class=\"stars\">\n        <span class=\"star\" (click)=\"setRating(1)\" [class.filled]=\"rating >= 1\">&#9733;</span>\n        <span class=\"star\" (click)=\"setRating(2)\" [class.filled]=\"rating >= 2\">&#9733;</span>\n        <span class=\"star\" (click)=\"setRating(3)\" [class.filled]=\"rating >= 3\">&#9733;</span>\n        <span class=\"star\" (click)=\"setRating(4)\" [class.filled]=\"rating >= 4\">&#9733;</span>\n        <span class=\"star\" (click)=\"setRating(5)\" [class.filled]=\"rating === 5\">&#9733;</span>\n      </div><br>\n      <button type=\"submit\">Potvrdi recenziju</button>\n      <span *ngIf=\"success != ''\" style=\"color: green;\">{{success}}</span>\n      <span *ngIf=\"fail != ''\" style=\"color: red;\">{{fail}}</span>\n    </form>\n  </div>\n</section>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}