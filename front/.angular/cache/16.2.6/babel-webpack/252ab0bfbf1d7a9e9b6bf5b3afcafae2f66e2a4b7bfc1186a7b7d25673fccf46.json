{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../services/restoran.service\";\nconst _c0 = [\"canvas\"];\nexport class LayoutComponent {\n  constructor(http, restoranService) {\n    this.http = http;\n    this.restoranService = restoranService;\n    this.restoran = null;\n    this.stolovi = [];\n  }\n  ngOnInit() {\n    this.restoranService.layout().subscribe(rez => {\n      this.restoran = rez.restoran;\n      this.stolovi = rez.stolovi;\n      this.ctx = this.canvas.nativeElement.getContext('2d');\n      this.drawLayout(this.restoran, this.stolovi);\n    });\n  }\n  drawLayout(restoran, stolovi) {\n    this.ctx.clearRect(0, 0, this.canvas.nativeElement.width, this.canvas.nativeElement.height);\n    stolovi.forEach(table => {\n      const radius = 25;\n      const centerX = table.x + radius;\n      const centerY = table.y + radius;\n      this.ctx.beginPath();\n      this.ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n      this.ctx.fillStyle = 'green';\n      this.ctx.fill();\n      this.ctx.closePath();\n      this.ctx.fillStyle = 'black';\n      this.ctx.fillText(`Table ${table.id}`, centerX - 15, centerY);\n    });\n    this.ctx.fillStyle = 'blue';\n    this.ctx.fillRect(restoran.kitchen.x, restoran.kitchen.y, 100, 100);\n    this.ctx.fillStyle = 'white';\n    this.ctx.fillText('Kitchen', restoran.kitchen.x, restoran.kitchen.y);\n    this.ctx.fillStyle = 'purple';\n    this.ctx.fillRect(restoran.toilets.x, restoran.toilets.y, 50, 50);\n    this.ctx.fillStyle = 'white';\n    this.ctx.fillText('Toilets', restoran.toilets.x, restoran.toilets.y);\n  }\n  static #_ = this.ɵfac = function LayoutComponent_Factory(t) {\n    return new (t || LayoutComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.RestoranService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LayoutComponent,\n    selectors: [[\"app-layout\"]],\n    viewQuery: function LayoutComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.canvas = _t.first);\n      }\n    },\n    inputs: {\n      layoutData: \"layoutData\"\n    },\n    decls: 2,\n    vars: 0,\n    consts: [[\"width\", \"800\", \"height\", \"600\"], [\"canvas\", \"\"]],\n    template: function LayoutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"canvas\", 0, 1);\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["LayoutComponent","constructor","http","restoranService","restoran","stolovi","ngOnInit","layout","subscribe","rez","ctx","canvas","nativeElement","getContext","drawLayout","clearRect","width","height","forEach","table","radius","centerX","x","centerY","y","beginPath","arc","Math","PI","fillStyle","fill","closePath","fillText","id","fillRect","kitchen","toilets","_","i0","ɵɵdirectiveInject","i1","HttpClient","i2","RestoranService","_2","selectors","viewQuery","LayoutComponent_Query","rf","ɵɵelement"],"sources":["C:\\Users\\Perovic\\Desktop\\PIA\\front\\src\\app\\layout\\layout.component.ts","C:\\Users\\Perovic\\Desktop\\PIA\\front\\src\\app\\layout\\layout.component.html"],"sourcesContent":["import { Component, Input, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { LayoutResponse } from '../models/LayoutResponse';\nimport { HttpClient } from '@angular/common/http';\nimport { RestoranService } from '../services/restoran.service';\nimport { restoran } from '../models/restoran';\nimport { sto } from '../models/sto';\n\n@Component({\n  selector: 'app-layout',\n  templateUrl: './layout.component.html',\n  styleUrls: ['./layout.component.css']\n})\nexport class LayoutComponent implements OnInit {\n  \n  @Input() layoutData: any; \n  @ViewChild('canvas', { static: true }) canvas: ElementRef<HTMLCanvasElement>;\n  private ctx: CanvasRenderingContext2D;\n  restoran: restoran = null;\n  stolovi: sto[] = [];\n\n  constructor(private http: HttpClient, private restoranService: RestoranService) {}\n\n  \n  ngOnInit(): void {\n    this.restoranService.layout().subscribe((rez: any)=>{\n      this.restoran = rez.restoran;\n      this.stolovi = rez.stolovi;\n      this.ctx = this.canvas.nativeElement.getContext('2d');\n      this.drawLayout(this.restoran, this.stolovi);\n    })\n  }\n\n  private drawLayout(restoran: restoran, stolovi: sto[]): void {\n    this.ctx.clearRect(0, 0, this.canvas.nativeElement.width, this.canvas.nativeElement.height);\n\n    stolovi.forEach(table => {\n      const radius = 25; \n      const centerX = table.x + radius;\n      const centerY = table.y + radius;\n  \n      this.ctx.beginPath();\n      this.ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n      this.ctx.fillStyle = 'green';\n      this.ctx.fill();\n      this.ctx.closePath();\n  \n      this.ctx.fillStyle = 'black';\n      this.ctx.fillText(`Table ${table.id}`, centerX - 15, centerY);\n    });\n\n    this.ctx.fillStyle = 'blue';\n    this.ctx.fillRect(restoran.kitchen.x, restoran.kitchen.y, 100, 100);\n    this.ctx.fillStyle = 'white';\n    this.ctx.fillText('Kitchen', restoran.kitchen.x, restoran.kitchen.y);\n\n    this.ctx.fillStyle = 'purple';\n    this.ctx.fillRect(restoran.toilets.x, restoran.toilets.y, 50, 50);\n    this.ctx.fillStyle = 'white';\n    this.ctx.fillText('Toilets', restoran.toilets.x, restoran.toilets.y);\n  }\n}\n","<canvas #canvas width=\"800\" height=\"600\"></canvas>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}